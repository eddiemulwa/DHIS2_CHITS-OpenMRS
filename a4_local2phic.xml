<?xml version="1.0"?>
<reportTemplates xmlns:d2="http://dhis2.org/schema/dxf/2.0">
     
     <dataElements>

          <dataElement uid="HAAmlK8a8Kz" code="BFPEDU" name="Breastfeeding Program Education" type="int"/>
<dataElement uid="RTl5mPvpksT" code="CFLSMOD" name="Counselling for lifestyle modification" type="int"/>
<dataElement uid="PuT0ufKGINQ" code="CFSC" name="Counselling for smoking cessation" type="int"/>
<dataElement uid="nuIxJr4vLpY" code="BM" name="Body measurements" type="int"/>
<dataElement uid="w1vhtqyBm9P" code="DREX" name="Digital Rectal Examination" type="int"/>
<dataElement uid="t4G5Vy61EAT" code="CBC" name="Complete Blood Count" type="int"/>

<dataElement uid="a5P1EQa8K0h" code="FCLY" name="Fecalysis" type="int"/>
<dataElement uid="L6QO1We0kZn" code="SPMIC" name="Sputum Microscopy" type="int"/>

<dataElement uid="QEsqit8TEFb" code="FBSUG" name="Fasting Blood Sugar" type="int"/>
<dataElement uid="kR3CKnUI51F" code="LPROF" name="Lipid Profile " type="int"/>

<dataElement uid="Lbet2CYNK36" code="CXRAY" name="Chest X-Ray" type="int"/>
<dataElement uid="L98ovMQnYdT" code="MEMBERS" name="members" type="int"/>
<dataElement uid="e53GxHPT4Kh" code="CONSU" name="Consultation" type="int"/>
<dataElement uid="nqaYpMZqNDy" code="URINALY" name="Urinalysis" type="int"/>
<dataElement uid="FFLmxaPR8NM" code="DEPNDS" name="Dependents" type="int"/>
<dataElement uid="lete0wu7xDK" code="PCBEX" name="Periodic clinical breast examination" type="int"/>
<dataElement uid="bkeKrklaWli" code="VIWAA" name="Visual Inspection with Acetic Acid" type="int"/>
<dataElement uid="l7DHoJcQoQS" code="OTHBPM" name="Obligated Target Hypertensive BP Measurement" type="int"/>
<dataElement uid="FdXvwwJgqJg" code="RBPM" name="Regular BP Measurement" type="int"/>
<dataElement uid="mNHn69WbUuK" code="OTPCBE" name="Obligated Target Periodic Clinical Breast Examination" type="int"/>
<dataElement uid="b1zdv5AOYJ7" code="OTVIWAA" name="Obligated Target Visual Inspection with Acetic Acid" type="int"/>
<dataElement uid="TBUeG5Fk6rQ" code="OTNHBPM" name="Obligated Target Non-hypertensive BP Measurement" type="int"/>
<dataElement uid="Cjgc8TwLzCf" code="OAVIWAA" name="Obligated Accomplishment Visual Inspection with Acetic Acid" type="int"/>
<dataElement uid="paZqkLNSRmi" code="OAPCBE" name="Obligated Accomplishment Periodic Clinical Breast Examination" type="int"/>
<dataElement uid="VU2FxpChAGB" code="OANHBPM" name="obligated_anhbp_measurement" type="int"/>
<dataElement uid="f2R7BDsMIB4" code="OAHBPM" name="obligated_ahbp_measurement" type="int"/>

<dataElement uid="myBvDKLgcql" code="CITY_MUNICIPALITY" name="City/Municipality" type="String"/>
<dataElement uid="xqdkF5xZD4l" code="PROVINCE" name="Province" type="String"/>



<dataElement uid="vAz3Z9hxBmX" code="PERIOD" name="Period" type="date"/>
<dataElement uid="lt8KtZ5tNae" code="PARTICIPATIONNUM" name="Participation Number" type="date"/>

<dataElement uid="XOjh0tnr0Bz" code="CAUSEOFMORBIDITY" name="Cause Of Morbidity" type="date"/>
<dataElement uid="UgG4jYeaB5v" code="MORBIDITYCOUNT" name="Morbidity Count" type="int"/>

<dataElement uid="lt8KtZ5tNae" code="PARTICIPATIONNUM" name="Participation Number" type="String"/>




<dataElement uid="oJy87zn5T0h" code="MEDSGIVENFORASTHMA" name="Medicines Given for Asthma" type="int" />
<dataElement uid="rcz6xjKWqav" code="MEDSGIVENFORAGE" name="Medicines Given for AGE with No or Mild Dehydration" type="int" />
<dataElement uid="fgB2PRgma56" code="MEDSGIVENFORURTIPNEUM" name="Medicines Given for URTI or Pneumonia" type="int" />
<dataElement uid="oCdtIrAZ5aI" code="MEDSGIVENFORUTI" name="Medicines Given for UTI" type="int" />
<dataElement uid="I0biQnR0tb2" code="NEBULIZATIONSERVICES" name="Nebulization Services" type="int" />
<dataElement uid="eNifH9oyOY1" code="MEDSGIVENUNSPECIFIED" name="Medicines Given, unspecified" type="int" />
     </dataElements>

     
     <disaggregations>
<!-- Given, Dependent -->
<disaggregation uid="myfBUBEhsTM" code="myfBUBEhsTM" name="given_dependent"/>
<!-- Referred, Member -->
<disaggregation uid="NaXjTi9CCC6" code="NaXjTi9CCC6" name="referred_member"/>
<!-- Given, Member -->
<disaggregation uid="MATQcQq5AV3" code="MATQcQq5AV3" name="given_member"/>
<!-- Referred, Dependent -->
<disaggregation uid="ieraUcKsaLc" code="ieraUcKsaLc" name="referred_dependent"/>
<!-- Male -->
<disaggregation uid="HrYigPmbhB0" code="HrYigPmbhB0" name="male"/>
<!-- Female -->
<disaggregation uid="cQBIzjRpaWQ" code="cQBIzjRpaWQ" name="female"/>
<!-- Default -->
<disaggregation uid="beBubnoFLUo" code="beBubnoFLUo" name="default"/>


<!-- PCB A4 Form, Start -->
<disaggregation uid="XaWGdBZCE67" code="XaWGdBZCE67" name="PCB A4 Form, Start"/>
<!-- PCB A4 Form, End -->
<disaggregation uid="t5KCPK2YLn8" code="t5KCPK2YLn8" name="PCB A4 Form, End"/>

<disaggregation uid="A9WHp1CXQOY" code="A9WHp1CXQOY" name="top 1"/>
<disaggregation uid="Ry4qQ4T8js0" code="Ry4qQ4T8js0" name="top 2"/>
<disaggregation uid="PYCeUPRaJuu" code="PYCeUPRaJuu" name="top 3"/>
<disaggregation uid="k6aJTB6lda1" code="k6aJTB6lda1" name="top 4"/>
<disaggregation uid="IYqcrgmAUul" code="IYqcrgmAUul" name="top 5"/>
<disaggregation uid="RGiQVsIgzrS" code="RGiQVsIgzrS" name="top 6"/>
<disaggregation uid="b1dIlk8UlUx" code="b1dIlk8UlUx" name="top 7"/>
<disaggregation uid="PJkCEmXMcdo" code="PJkCEmXMcdo" name="top 8"/>
<disaggregation uid="v8EQFoJn9lN" code="v8EQFoJn9lN" name="top 9"/>
<disaggregation uid="jjudPUevAqu" code="jjudPUevAqu" name="top 10"/>




<disaggregation uid="eJ7zexkqghD" code="eJ7zexkqghD" name="Fluticasone + salmeterol 50mcg/25 mcg x 120 doses inhaler, Member"/>
<disaggregation uid="wnYltJ0FrD2" code="wnYltJ0FrD2" name="Fluticasone + salmeterol 50mcg/25 mcg x 120 doses inhaler, Dependent"/>
<disaggregation uid="YI0mBeyE0JA" code="YI0mBeyE0JA" name="Fluticasone + salmeterol 125mcg/25 mcg x 120 doses inhaler, Member"/>
<disaggregation uid="X53upyghr0h" code="X53upyghr0h" name="Fluticasone + salmeterol 125mcg/25 mcg x 120 doses inhaler, Dependent"/>
<disaggregation uid="esOJ9gmpTv1" code="esOJ9gmpTv1" name="Salbutamol 100mcg/inhalation x200 doses inhaler, Member"/>
<disaggregation uid="yoc4IGzfdWk" code="yoc4IGzfdWk" name="Salbutamol 100mcg/inhalation x200 doses inhaler, Dependent"/>
<disaggregation uid="xpXTCLIfQhp" code="xpXTCLIfQhp" name="Lagundi 300mg tablet, Member "/>
<disaggregation uid="CwU8Kx2x0QL" code="CwU8Kx2x0QL" name="Lagundi 300mg tablet, Dependent "/>
<disaggregation uid="OJrMS8XYllS" code="OJrMS8XYllS" name="Lagundi 600mg tablet, Member"/>
<disaggregation uid="zc0jHPL2fzo" code="zc0jHPL2fzo" name="Lagundi 600mg tablet, Dependent"/>
<disaggregation uid="c3On7fG7qbs" code="c3On7fG7qbs" name="Metronidazole 500mg tablet, Member"/>
<disaggregation uid="bmrUooO2jCs" code="bmrUooO2jCs" name="Metronidazole 500mg tablet, Dependent"/>
<disaggregation uid="ySivpIx4Axw" code="ySivpIx4Axw" name="Doxycycline 100mg capsule, Member"/>
<disaggregation uid="XHWcgM6gpXu" code="XHWcgM6gpXu" name="Doxycycline 100mg capsule, Dependent"/>
<disaggregation uid="uTT5D5L1cUO" code="uTT5D5L1cUO" name="Amoxicillin 500mg capsule, Member"/>
<disaggregation uid="iMOgQ57gFVm" code="iMOgQ57gFVm" name="Amoxicillin 500mg capsule, Dependent"/>
<disaggregation uid="c4Q3Aht6f5t" code="c4Q3Aht6f5t" name="Amoxicillin 100mg/mL 10mL granules for drops (suspension), Member"/>
<disaggregation uid="LdFZ4kROrtG" code="LdFZ4kROrtG" name="Amoxicillin 100mg/mL 10mL granules for drops (suspension), Dependent"/>
<disaggregation uid="mhHaiMeaBce" code="mhHaiMeaBce" name="Cloxacillin 500mg capsule, Member"/>
<disaggregation uid="stKO4yi6T1C" code="stKO4yi6T1C" name="Cloxacillin 500mg capsule, Dependent"/>
<disaggregation uid="ZJ8sXwlBnlZ" code="ZJ8sXwlBnlZ" name="Cloxacillin 125 mg/5 mL 60mL powder for suspension/syrup, Member"/>
<disaggregation uid="CpCOSWIenv2" code="CpCOSWIenv2" name="Cloxacillin 125 mg/5 mL 60mL powder for suspension/syrup, Dependent"/>
<disaggregation uid="FlhnbhcdMXW" code="FlhnbhcdMXW" name="Ciprofloxacin 500mg tablet, Member"/>
<disaggregation uid="JI1ZgYjbBxm" code="JI1ZgYjbBxm" name="Ciprofloxacin 500mg tablet, Dependent"/>
<disaggregation uid="bxf9R0QWXaF" code="bxf9R0QWXaF" name="Cotrimoxazole (sulfamethoxazole + trimethoprim) 800mg + 160mg tablet, Member"/>
<disaggregation uid="giDk8ju0wKK" code="giDk8ju0wKK" name="Cotrimoxazole (sulfamethoxazole + trimethoprim) 800mg + 160mg tablet, Dependent"/>
<disaggregation uid="t7hPE5RGRT2" code="t7hPE5RGRT2" name="Cotrimoxazole (sulfamethoxazole + trimethoprim) 200mg + 40mg/5mL 60mL suspension, Member"/>
<disaggregation uid="DwWcOxcQYU6" code="DwWcOxcQYU6" name="Cotrimoxazole (sulfamethoxazole + trimethoprim) 200mg + 40mg/5mL 60mL suspension, Dependent"/>
<disaggregation uid="ybutWWuBrVj" code="ybutWWuBrVj" name="Erythromycin 500mg tablet, Member"/>
<disaggregation uid="Tj9rv7yxxxO" code="Tj9rv7yxxxO" name="Erythromycin 500mg tablet, Dependent"/>
<disaggregation uid="nLCNEgB0vOE" code="nLCNEgB0vOE" name="Sambong 500mg tablet, Member"/>
<disaggregation uid="AAl5PYGSQjC" code="AAl5PYGSQjC" name="Sambong 500mg tablet, Dependent"/>
<disaggregation uid="NcujQo5zTq1" code="NcujQo5zTq1" name="Sambong 250mg tablet, Member"/>
<disaggregation uid="JYssinNq6mv" code="JYssinNq6mv" name="Sambong 250mg tablet, Dependent"/>
<disaggregation uid="KSLNuVTCD7w" code="KSLNuVTCD7w" name="Metformin 500 mg tablet/film coated, Member"/>
<disaggregation uid="LYJ0WO360MC" code="LYJ0WO360MC" name="Metformin 500 mg tablet/film coated, Dependent"/>
<disaggregation uid="VU9AdAm3z5y" code="VU9AdAm3z5y" name="Glibenclamide 5 mg tablet, Member"/>
<disaggregation uid="iCdwi6sm24e" code="iCdwi6sm24e" name="Glibenclamide 5 mg tablet, Dependent"/>
<disaggregation uid="NE9ctJPQODh" code="NE9ctJPQODh" name="Gliclazide 80 mg tablet, Member"/>
<disaggregation uid="Nhsaabl4Ech" code="Nhsaabl4Ech" name="Gliclazide 80 mg tablet, Dependent"/>
<disaggregation uid="VugjwM2NtwV" code="VugjwM2NtwV" name="Amlodipine 10mg tablet, Member"/>
<disaggregation uid="IVqiBaOsipo" code="IVqiBaOsipo" name="Amlodipine 10mg tablet, Dependent"/>
<disaggregation uid="cfpm6ldzYBe" code="cfpm6ldzYBe" name="Enalapril 10mg tablet, Member"/>
<disaggregation uid="KRqoyr52Uy4" code="KRqoyr52Uy4" name="Enalapril 10mg tablet, Dependent"/>
<disaggregation uid="cqISplXbI1u" code="cqISplXbI1u" name="Metoprolol 50mg tablet, Member"/>
<disaggregation uid="Zn4oqXf3g1Y" code="Zn4oqXf3g1Y" name="Metoprolol 50mg tablet, Dependent"/>
<disaggregation uid="dIfdZnn5EV4" code="dIfdZnn5EV4" name="Hydrochlorothiazide 25mg tablet, Member"/>
<disaggregation uid="UkurKizc0Uy" code="UkurKizc0Uy" name="Hydrochlorothiazide 25mg tablet, Dependent"/>
<disaggregation uid="CynmEQ9vXxj" code="CynmEQ9vXxj" name="Aspirin 80mg tablet, Member"/>
<disaggregation uid="HhCNIEShlzA" code="HhCNIEShlzA" name="Aspirin 80mg tablet, Dependent"/>
<disaggregation uid="SDB2BHOQNFa" code="SDB2BHOQNFa" name="Losartan 50mg tablet, Member"/>
<disaggregation uid="Zm6iGNp5xVT" code="Zm6iGNp5xVT" name="Losartan 50mg tablet, Dependent"/>
<disaggregation uid="EZOitu6rSKk" code="EZOitu6rSKk" name="Simvastatin 20mg tablet, Member"/>
<disaggregation uid="pggntK5A1NO" code="pggntK5A1NO" name="Simvastatin 20mg tablet, Dependent"/>
<disaggregation uid="npFHFGXFlNE" code="npFHFGXFlNE" name="Mebendazole 50mg/ml 10ml suspension, Member"/>
<disaggregation uid="J66i3fwIZEY" code="J66i3fwIZEY" name="Mebendazole 50mg/ml 10ml suspension, Dependent"/>
     </disaggregations>
    
  
     <reportTemplate>
<name>PCB Form A4</name>
<uid>oHOA3f6lU1a</uid>
<code>A4</code>
<periodType>Quarterly</periodType>
<dataValueTemplates>
     
	

	<!-- III-B.  PROVINCE (using state_province) -->

	 <dataValueTemplate dataElement="PROVINCE" disaggregation="beBubnoFLUo">
           <annotation>
      	       select state_province
      	from location l
      	where l.retired = 0 
        and (l.date_created >= :startOfPeriod
      	or l.date_created &lt;= :endOfPeriod)
      	and l.location_id = :locationId
    	           </annotation>
  	       </dataValueTemplate>     

	<!-- III-C.  CITY/MUNICIPALITY (using city_village) -->

	 <dataValueTemplate dataElement="CITY_MUNICIPALITY" disaggregation="beBubnoFLUo">
           <annotation>
      	       select city_village
      	from location
      	where retired = 0 
        and (date_created >= :startOfPeriod
      	or date_created &lt;= :endOfPeriod)
      	and location_id = :locationId
    	           </annotation>
  	       </dataValueTemplate>


     
	
	<!--IV 1.1A. OBLIGATED TARGET HYPERTENSIVE BP MEASUREMENT -->

	<!-- de: Obligated Target Hypertensive BP Measurement c: Default -->
	<dataValueTemplate dataElement="OTHBPM" disaggregation="beBubnoFLUo">
	<annotation>  select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      and (o.obs_datetime >= :startOfPeriod
		      or o.obs_datetime &lt;= :endOfPeriod)


			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)			
		
			and 
			(
				o.person_id IN 
				(SELECT o.person_id FROM obs o WHERE 
					o.concept_id = (SELECT concept_id FROM concept_name where name='hypertension' LIMIT 1)
					and o.value_text = 'yes' 
					and o.obs_group_id IN 
					(SELECT obs_id FROM obs WHERE concept_id IN (SELECT concept_id FROM concept_name where name  NOT LIKE "%family%history%")
					ORDER BY obs_id DESC )
				)
	
				OR

				o.person_id IN 
				(SELECT o.person_id FROM obs o WHERE 
					o.concept_id = (SELECT concept_id FROM concept_name where name='Diagnosis' LIMIT 1)
					and o.value_text LIKE '%Hypertension%'
				)

				OR

				o.person_id IN 
				(SELECT o.person_id FROM obs o WHERE 
					o.concept_id = (SELECT concept_id FROM concept_name where name='NCD Program tag' LIMIT 1)
					and o.value_text = 'NCDM - Cardiovascular'
				)
			)

		      and o.location_id = :locationId
		</annotation>
	</dataValueTemplate>


	
	<!--IV 1.1 B. OBLIGATED ACCOMPLISHMENT HYPERTENSIVE BP MEASUREMENT -->

	<!-- de: Obligated Accomplishment Hypertensive BP Measurement c: Default -->
	<dataValueTemplate dataElement="OAHBPM" disaggregation="beBubnoFLUo">
	<annotation> 
	 select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      and (o.obs_datetime >= :startOfPeriod
		      and o.obs_datetime &lt;= :endOfPeriod)


			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)			
		
			and 
			(
				o.person_id IN 
				(SELECT o.person_id FROM obs o WHERE 
					o.concept_id = (SELECT concept_id FROM concept_name where name='hypertension' LIMIT 1)
					and o.value_text = 'yes' 
					and o.obs_group_id IN 
					(SELECT obs_id FROM obs WHERE concept_id IN (SELECT concept_id FROM concept_name where name  NOT LIKE "%family%history%")
					ORDER BY obs_id DESC )
				)
	
				OR

				o.person_id IN 
				(SELECT o.person_id FROM obs o WHERE 
					o.concept_id = (SELECT concept_id FROM concept_name where name='Diagnosis' LIMIT 1)
					and o.value_text LIKE '%Hypertension%'
				)

				OR

				o.person_id IN 
				(SELECT o.person_id FROM obs o WHERE 
					o.concept_id = (SELECT concept_id FROM concept_name where name='NCD Program tag' LIMIT 1)
					and o.value_text = 'NCDM - Cardiovascular'
				)
			)

	
		and 
			o.value_numeric > 0 and

			o.concept_id = (SELECT concept_id FROM concept_name WHERE name="Systolic Blood Pressure" LIMIT 1)

		      and o.location_id = :locationId
	</annotation>
	</dataValueTemplate>


	
	<!--IV 1.2 A. OBLIGATED TARGET NON-HYPERTENSIVE BP MEASUREMENT -->

	<!-- de: Obligated Target Non-Hypertensive BP Measurement c: Default -->
	<dataValueTemplate dataElement="OTNHBPM" disaggregation="beBubnoFLUo">
	<annotation> 
	 select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
		      and date_format(from_days(datediff(:endOfPeriod,p.birthdate)),'%Y')+0 >= 18			
 
		      and (o.obs_datetime >= :startOfPeriod
		      or o.obs_datetime &lt;= :endOfPeriod)


			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)			
		
			and 
			(
				o.person_id NOT IN 
				(SELECT o.person_id FROM obs o WHERE 
					o.concept_id = (SELECT concept_id FROM concept_name where name='hypertension' LIMIT 1)
					and o.value_text = 'yes' 
					and o.obs_group_id IN 
					(SELECT obs_id FROM obs WHERE concept_id IN (SELECT concept_id FROM concept_name where name  NOT LIKE "%family%history%")
					ORDER BY obs_id DESC )
				)
	
				AND

				o.person_id NOT IN 
				(SELECT o.person_id FROM obs o WHERE 
					o.concept_id = (SELECT concept_id FROM concept_name where name='Diagnosis' LIMIT 1)
					and o.value_text LIKE '%Hypertension%'
				)

				AND

				o.person_id NOT IN 
				(SELECT o.person_id FROM obs o WHERE 
					o.concept_id = (SELECT concept_id FROM concept_name where name='NCD Program tag' LIMIT 1)
					and o.value_text = 'NCDM - Cardiovascular'
				)
			)

	
		      and o.location_id = :locationId
	</annotation>
	</dataValueTemplate>


	
	<!-- IV 1.2 B OBLIGATED ACCOMPLISHMENT NON-HYPERTENSIVE BP MEASUREMENT -->

	<!-- de: Obligated Accomplishment Non-Hypertensive BP Measurement c: Default -->
	<dataValueTemplate dataElement="OANHBPM" disaggregation="beBubnoFLUo">
	<annotation> 
		 select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
		      and date_format(from_days(datediff(:endOfPeriod,p.birthdate)),'%Y')+0 >= 18			
			 
		      and (o.obs_datetime >= :startOfPeriod
		      and o.obs_datetime &lt;= :endOfPeriod)


			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)			
		
			and 
			(
				o.person_id NOT IN 
				(SELECT o.person_id FROM obs o WHERE 
					o.concept_id = (SELECT concept_id FROM concept_name where name='hypertension' LIMIT 1)
					and o.value_text = 'yes' 
					and o.obs_group_id IN 
					(SELECT obs_id FROM obs WHERE concept_id IN (SELECT concept_id FROM concept_name where name  NOT LIKE "%family%history%")
					ORDER BY obs_id DESC )
				)
	
				AND

				o.person_id NOT IN 
				(SELECT o.person_id FROM obs o WHERE 
					o.concept_id = (SELECT concept_id FROM concept_name where name='Diagnosis' LIMIT 1)
					and o.value_text LIKE '%Hypertension%'
				)

				AND

				o.person_id NOT IN 
				(SELECT o.person_id FROM obs o WHERE 
					o.concept_id = (SELECT concept_id FROM concept_name where name='NCD Program tag' LIMIT 1)
					and o.value_text = 'NCDM - Cardiovascular'
				)
			)

	
		
		and 
			o.value_numeric > 0 and

			o.concept_id = (SELECT concept_id FROM concept_name WHERE name="Systolic Blood Pressure" LIMIT 1)

		      and o.location_id = :locationId
	</annotation>
	</dataValueTemplate>


	
	<!-- IV 2 A OBLIGATED TARGET PERIODIC CLINICAL BREAST EXAMINATION -->

	<!-- de: Obligated Target Periodic Clinical Breast Examination c: Default -->
	<dataValueTemplate dataElement="OTPCBE" disaggregation="beBubnoFLUo">
	<annotation> 
	 select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
		      and 

			(	
				(date_format(from_days(datediff(:endOfPeriod,p.birthdate)),'%Y')+0 >= 18)
				OR
			      (	
				 o.concept_id = (SELECT concept_id FROM concept_name where name="NCD Program tag" LIMIT 1)
			   	and o.value_text = "NCDM - Breast Cancer"
				)
			)

			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		
			and (o.obs_datetime >= :startOfPeriod
			      or o.obs_datetime &lt;= :endOfPeriod)

	</annotation>
	</dataValueTemplate>


	

	<!-- IV 2 B  OBLIGATED ACCOMPLISHMENT PERIODIC CLINICAL BREAST EXAMINATION -->

	<!-- de: Obligated Accomplishment Periodic Clinical Breast Examination c: Default -->
	<dataValueTemplate dataElement="OAPCBE" disaggregation="beBubnoFLUo">
	<annotation> 

	 select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      and (o.obs_datetime >= :startOfPeriod
		      and o.obs_datetime &lt;= :endOfPeriod)


			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		

			and

			o.concept_id = (SELECT concept_id FROM concept_name WHERE name="Type of breast examination done" LIMIT 1)	
		
			and 
			o.value_text = "Clinical breast examination" 
		      and o.location_id = :locationId
	</annotation>
	</dataValueTemplate>

	
	<!-- IV 3 A  OBLIGATED TARGET VISUAL INSPECTION WITH ACETIC ACID -->

	<!-- de: Obligated Target Visual Inspection With Acetic Acid c: Default -->
	<dataValueTemplate dataElement="OTVIWAA" disaggregation="beBubnoFLUo">
	<annotation> 
	  select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
		      and 

			(	
				((date_format(from_days(datediff(:endOfPeriod,p.birthdate)),'%Y')+0 >= 25)  and (p.gender = 'F'))
				OR
			      (	
				 o.concept_id = (SELECT concept_id FROM concept_name where name="NCD Program tag" LIMIT 1)
			   	and o.value_text = "NCDM - Cervical Cancer"
				)
			)

			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		
			
			and (o.obs_datetime >= :startOfPeriod
			      or o.obs_datetime &lt;= :endOfPeriod)

	</annotation>
	</dataValueTemplate>


	
	<!-- IV 3 B  OBLIGATED ACCOMPLISHMENT VISUAL INSPECTION WITH ACETIC ACID -->

	<!-- de: Obligated Accomplishment Visual Inspection With Acetic Acid c: Default -->
	<dataValueTemplate dataElement="OAVIWAA" disaggregation="beBubnoFLUo">
	<annotation> 
	
	 select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      and (o.obs_datetime >= :startOfPeriod
		      and o.obs_datetime &lt;= :endOfPeriod)


			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		

			and

			o.concept_id = (SELECT concept_id FROM concept_name WHERE name="Visual Inspection with Acetic Acid done" LIMIT 1)	
		
			and 
			o.value_coded = (SELECT concept_id FROM concept_name WHERE name="Visual Inspection with Acetic Acid done" LIMIT 1)	
		      and o.location_id = :locationId
	</annotation>
	</dataValueTemplate>






	<!-- V 1 A  MEMBERS MALE-->

	<!-- de: members c: male -->
	<dataValueTemplate dataElement="MEMBERS" disaggregation="HrYigPmbhB0">
	<annotation> 
		   select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 and p.gender = 'M'
		     
		      and (o.obs_datetime >= :startOfPeriod
		      or o.obs_datetime &lt;= :endOfPeriod)


			
						and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)			
			

			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)
		      and o.location_id = :locationId
	</annotation>
	</dataValueTemplate>


	<!-- V 1 B  MEMBERS FEMALE-->
	
	<!-- de: members c: female -->
	<dataValueTemplate dataElement="MEMBERS" disaggregation="cQBIzjRpaWQ">
	<annotation> 
		select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 and p.gender = 'F'
		     
		      and (o.obs_datetime >= :startOfPeriod
		      or o.obs_datetime &lt;= :endOfPeriod)


			
						and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)			
			

			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)
		      and o.location_id = :locationId	
	</annotation>
	</dataValueTemplate>	



	
	<!-- V 2 A  DEPENDENTS MALE -->

	<!-- de: Dependents c: male -->
	<dataValueTemplate dataElement="DEPNDS" disaggregation="HrYigPmbhB0">

	<annotation> 
		select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 and p.gender = 'M'
		     
		      and (o.obs_datetime >= :startOfPeriod
		      or o.obs_datetime &lt;= :endOfPeriod)


			
						and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)			
			

			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)
		      and o.location_id = :locationId
	</annotation>
	</dataValueTemplate>


	<!-- V 2 B  DEPENDENTS FEMALE -->

	<!-- de: Dependents c: female -->
	<dataValueTemplate dataElement="DEPNDS" disaggregation="cQBIzjRpaWQ">
	<annotation> 
	select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 and p.gender = 'F'
		     
		      and (o.obs_datetime >= :startOfPeriod
		      or o.obs_datetime &lt;= :endOfPeriod)


			
						and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)			
			

			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)
		      and o.location_id = :locationId
	</annotation>
	</dataValueTemplate>



	
	<!-- VI 1 A. CONSULTATION  G M-->

	<!-- de: Consultation c: Given, Member -->
	<dataValueTemplate dataElement="CONSU" disaggregation="MATQcQq5AV3">
	<annotation> 
		select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
		     
		      and (o.obs_datetime >= :startOfPeriod
		      and o.obs_datetime &lt;= :endOfPeriod)


			
						and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)			
			
			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)
		      and o.location_id = :locationId
	</annotation>
	</dataValueTemplate>	


	<!-- VI 1 B. CONSULTATION  G D-->

	<!-- de: Consultation c: Given, Dependent -->
	<dataValueTemplate dataElement="CONSU" disaggregation="myfBUBEhsTM">
	<annotation> 
	select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
		     
		      and (o.obs_datetime >= :startOfPeriod
		      and o.obs_datetime &lt;= :endOfPeriod)


			
						and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)			
			
			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)
		      and o.location_id = :locationId
	</annotation>
	</dataValueTemplate>


	
	<!-- VI 2 A. VISUAL INSPECTION WITH ACETIC ACID  G M-->

	<!-- de: Visual Inspection With Acetic Acid c: Given, Member -->
	<dataValueTemplate dataElement="VIWAA" disaggregation="MATQcQq5AV3">
	<annotation> 
	 select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      and (o.obs_datetime >= :startOfPeriod
		      and o.obs_datetime &lt;= :endOfPeriod)


			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		
			
			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

			
			and

			o.concept_id = (SELECT concept_id FROM concept_name WHERE name="Visual Inspection with Acetic Acid done" LIMIT 1)	
		
			and 
			o.value_coded = (SELECT concept_id FROM concept_name WHERE name="Visual Inspection with Acetic Acid done" LIMIT 1)	

		      and o.location_id = :locationId
	</annotation>
	</dataValueTemplate>

	<!-- VI 2 B. VISUAL INSPECTION WITH ACETIC ACID  G D-->
	
	<!-- de: Visual Inspection With Acetic Acid c: Given, Dependent -->
	<dataValueTemplate dataElement="VIWAA" disaggregation="myfBUBEhsTM">
	<annotation> 
	 select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      and (o.obs_datetime >= :startOfPeriod
		      and o.obs_datetime &lt;= :endOfPeriod)


			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		
			
			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value IN (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member')
			and voided = 0)

			and

			o.concept_id = (SELECT concept_id FROM concept_name WHERE name="Visual Inspection with Acetic Acid done" LIMIT 1)	
		
			and 
			o.value_coded = (SELECT concept_id FROM concept_name WHERE name="Visual Inspection with Acetic Acid done" LIMIT 1)

		      and o.location_id = :locationId	
	</annotation>
	</dataValueTemplate>

	

	
	<!-- VI 3 A.  REGULAR BP MEASUREMENT  G M-->

	
	<!-- de: Regular BP Measurement c: Given, Member -->
	<dataValueTemplate dataElement="RBPM" disaggregation="MATQcQq5AV3">
	<annotation> 
		select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		
			
			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)




			and 

			(
			o.person_id IN
			(
			SELECT person_id from obs where value_numeric > 0 and concept_id = (SELECT concept_id from concept_name where name = "Systolic Blood Pressure" LIMIT 1) 

				and period_diff(date_format(:endOfPeriod, '%Y%m'), date_format(obs_datetime, '%Y%m')) &lt;= 1
			)

			or

			o.person_id IN (
				SELECT person_id from obs where value_numeric > 0 and concept_id = (SELECT concept_id from concept_name where name = "Systolic Blood Pressure" LIMIT 1) 

				and period_diff(date_format(:endOfPeriod, '%Y%m'), date_format(obs_datetime, '%Y%m')) &lt;= 12
				and 
					(
						o.person_id NOT IN 
						(SELECT o.person_id FROM obs o WHERE 
							o.concept_id = (SELECT concept_id FROM concept_name where name='hypertension' LIMIT 1)
							and o.value_text = 'yes' 
							and o.obs_group_id IN 
							(SELECT obs_id FROM obs WHERE concept_id IN (SELECT concept_id FROM concept_name where name  NOT LIKE "%family%history%")
							ORDER BY obs_id DESC )
						)
	
						AND

						o.person_id NOT IN 
						(SELECT o.person_id FROM obs o WHERE 
							o.concept_id = (SELECT concept_id FROM concept_name where name='Diagnosis' LIMIT 1)
							and o.value_text LIKE '%Hypertension%'
						)

						AND

						o.person_id IN 
						(SELECT o.person_id FROM obs o WHERE 
							o.concept_id = (SELECT concept_id FROM concept_name where name='NCD Program tag' LIMIT 1)
							and o.value_text = 'NCDM - Cardiovascular'
						)
					)
				)			





			)


			and o.concept_id = (SELECT concept_id from concept_name where name = "Systolic Blood Pressure" LIMIT 1) 
			and o.value_numeric > 0

			and (o.obs_datetime >= :startOfPeriod
				and o.obs_datetime &lt; :endOfPeriod)
		      and o.location_id = :locationId
	</annotation>
	</dataValueTemplate>



	<!-- VI 3 B.  REGULAR BP MEASUREMENT  G D-->

	<!-- de: Regular BP Measurement c: Given, Dependent -->
	<dataValueTemplate dataElement="RBPM" disaggregation="myfBUBEhsTM">
	<annotation> 
	select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		
			
			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)




			and 

			(
			o.person_id IN
			(
			SELECT person_id from obs where value_numeric > 0 and concept_id = (SELECT concept_id from concept_name where name = "Systolic Blood Pressure" LIMIT 1) 

				and period_diff(date_format(:endOfPeriod, '%Y%m'), date_format(obs_datetime, '%Y%m')) &lt;= 1
			)

			or

			o.person_id IN (
				SELECT person_id from obs where value_numeric > 0 and concept_id = (SELECT concept_id from concept_name where name = "Systolic Blood Pressure" LIMIT 1) 

				and period_diff(date_format(:endOfPeriod, '%Y%m'), date_format(obs_datetime, '%Y%m')) &lt;= 12
				and 
					(
						o.person_id NOT IN 
						(SELECT o.person_id FROM obs o WHERE 
							o.concept_id = (SELECT concept_id FROM concept_name where name='hypertension' LIMIT 1)
							and o.value_text = 'yes' 
							and o.obs_group_id IN 
							(SELECT obs_id FROM obs WHERE concept_id IN (SELECT concept_id FROM concept_name where name  NOT LIKE "%family%history%")
							ORDER BY obs_id DESC )
						)
	
						AND

						o.person_id NOT IN 
						(SELECT o.person_id FROM obs o WHERE 
							o.concept_id = (SELECT concept_id FROM concept_name where name='Diagnosis' LIMIT 1)
							and o.value_text LIKE '%Hypertension%'
						)

						AND

						o.person_id IN 
						(SELECT o.person_id FROM obs o WHERE 
							o.concept_id = (SELECT concept_id FROM concept_name where name='NCD Program tag' LIMIT 1)
							and o.value_text = 'NCDM - Cardiovascular'
						)
					)
				)			





			)


			and o.concept_id = (SELECT concept_id from concept_name where name = "Systolic Blood Pressure" LIMIT 1) 
			and o.value_numeric > 0

			and (o.obs_datetime >= :startOfPeriod
				and o.obs_datetime &lt; :endOfPeriod)
		      and o.location_id = :locationId
	</annotation>
	</dataValueTemplate>


	<!-- VI 4 A.  BREASTFEEDING PROGRAM EDUCATION G M-->
	     
	<!-- de: Breastfeeding Program Education c: Given, Member -->
	<dataValueTemplate dataElement="BFPEDU" disaggregation="MATQcQq5AV3">
	<annotation>
	select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      and (o.obs_datetime >= :startOfPeriod
		      and o.obs_datetime &lt;= :endOfPeriod)


			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		
			
			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

			and o.concept_id = (SELECT concept_id from concept_name where name = "Breastfeeding Program Education" LIMIT 1) and o.value_text = "yes"

		      and o.location_id = :locationId
	</annotation>
	</dataValueTemplate>


	<!-- VI 4 B.  BREASTFEEDING PROGRAM EDUCATION G D-->

	<!-- de: Breastfeeding Program Education c: Given, Dependent -->
	<dataValueTemplate dataElement="BFPEDU" disaggregation="myfBUBEhsTM">
	<annotation>
	select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      and (o.obs_datetime >= :startOfPeriod
		      and o.obs_datetime &lt;= :endOfPeriod)


			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		
			
			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

			and o.concept_id = (SELECT concept_id from concept_name where name = "Breastfeeding Program Education" LIMIT 1) and o.value_text = "yes"

		      and o.location_id = :locationId
	</annotation>
	</dataValueTemplate>




	<!-- VI 5 A.  PERIODIC CLINICAL BREAST EXAMINATION G M-->

	
	<!-- de: Periodic Clinical Breast Examination c: Given, Member -->
	<dataValueTemplate dataElement="PCBEX" disaggregation="MATQcQq5AV3">
	<annotation>
		select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      and (o.obs_datetime >= :startOfPeriod
		      and o.obs_datetime &lt;= :endOfPeriod)


			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		
			
			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

			and
			o.concept_id = (SELECT concept_id FROM concept_name WHERE name="Type of breast examination done" LIMIT 1)	
			and 
			o.value_text = "Clinical breast examination" 

		      and o.location_id = :locationId
	</annotation>
	</dataValueTemplate>

	<!-- VI 5 A.  PERIODIC CLINICAL BREAST EXAMINATION G D-->

	<!-- de: Periodic Clinical Breast Examination c: Given, Dependent -->
	<dataValueTemplate dataElement="PCBEX" disaggregation="myfBUBEhsTM">

	<annotation>
		select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      and (o.obs_datetime >= :startOfPeriod
		      and o.obs_datetime &lt;= :endOfPeriod)


			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		
			
			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

			and
			o.concept_id = (SELECT concept_id FROM concept_name WHERE name="Type of breast examination done" LIMIT 1)	
			and 
			o.value_text = "Clinical breast examination" 

		      and o.location_id = :locationId
		</annotation>
	</dataValueTemplate>




	<!-- VI 6 A. COUNSELING FOR LIFESTYLE MODIFICATION G M-->


	<!-- de: Counseling For Lifestyle Modification c: Given, Member -->
	<dataValueTemplate dataElement="CFLSMOD" disaggregation="MATQcQq5AV3">
	<annotation>
		select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      and (o.obs_datetime >= :startOfPeriod
		      and o.obs_datetime &lt;= :endOfPeriod)


			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		
			
			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

			and
			o.concept_id = (SELECT concept_id FROM concept_name WHERE name="Counseling for Lifestyle Modification" LIMIT 1)	
			and 
			o.value_text = "yes"

		      and o.location_id = :locationId
	</annotation>
	</dataValueTemplate>

	<!-- VI 6 B. COUNSELING FOR LIFESTYLE MODIFICATION G D-->

	<!-- de: COUNSELING For Lifestyle Modification c: Given, Dependent -->
	<dataValueTemplate dataElement="CFLSMOD" disaggregation="myfBUBEhsTM">
	<annotation>
	 select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      and (o.obs_datetime >= :startOfPeriod
		      and o.obs_datetime &lt;= :endOfPeriod)


			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		
			
			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

			and
			o.concept_id = (SELECT concept_id FROM concept_name WHERE name="Counseling for Lifestyle Modification" LIMIT 1)	
			and 
			o.value_text = "yes"

		      and o.location_id = :locationId
	</annotation>
	</dataValueTemplate>



	<!-- VI 7 A. COUNSELING FOR SMOKING CESSATION G M-->

	<!-- de: COUNSELING For Smoking Cessation c: Given, Member -->
	<dataValueTemplate dataElement="CFSC" disaggregation="MATQcQq5AV3">
	<annotation> 
	 select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      and (o.obs_datetime >= :startOfPeriod
		      and o.obs_datetime &lt;= :endOfPeriod)


			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		
			
			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

			and
			o.concept_id = (SELECT concept_id FROM concept_name WHERE name="Counseling for Smoking Cessation" LIMIT 1)	
			and 
			o.value_text = "yes"

		      and o.location_id = :locationId
	</annotation>
	</dataValueTemplate>

	<!-- VI 7 B. COUNSELING FOR SMOKING CESSATION G D-->

	<!-- de: COUNSELING For Smoking Cessation c: Given, Dependent -->
	<dataValueTemplate dataElement="CFSC" disaggregation="myfBUBEhsTM">
	<annotation>
	 select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      and (o.obs_datetime >= :startOfPeriod
		      and o.obs_datetime &lt;= :endOfPeriod)


			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		
			
			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

			and
			o.concept_id = (SELECT concept_id FROM concept_name WHERE name="Counseling for Smoking Cessation" LIMIT 1)	
			and 
			o.value_text = "yes"	

		      and o.location_id = :locationId
	</annotation>
	</dataValueTemplate>


	<!-- VI 8 A. BODY MEASUREMENTS G M-->

	
	<!-- de: Body Measurements c: Given, Member -->
	<dataValueTemplate dataElement="BM" disaggregation="MATQcQq5AV3">
	<annotation>
	 	select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      and (o.obs_datetime >= :startOfPeriod
		      and o.obs_datetime &lt;= :endOfPeriod)


			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		
			
			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

			and 
			o.value_numeric IS NOT NULL

			and
			(
			o.concept_id = (SELECT concept_id FROM concept_name 
						WHERE name = "Height (cm)" LIMIT 1)
			
			or 
			o.concept_id = (SELECT concept_id FROM concept_name 
						WHERE name = "Weight (kg)" LIMIT 1)

			or 
			o.concept_id = (SELECT concept_id FROM concept_name
						WHERE name = "Waist circumference (cm)" LIMIT 1)

			or 
			o.concept_id = (SELECT concept_id FROM concept_name 
						WHERE name = "Hip circumference (cm)" LIMIT 1)

			or 
			o.concept_id = (SELECT concept_id FROM concept_name 
						WHERE name = "head circumference (cm)" LIMIT 1)

			or 
			o.concept_id = (SELECT concept_id FROM concept_name 
						WHERE name = "chest circumference (cm)" LIMIT 1)
			)	
		      and o.location_id = :locationId			
	</annotation>
	</dataValueTemplate>



	<!-- VI 8 B. BODY MEASUREMENTS G D-->


	<!-- de: Body Measurements c: Given, Dependent -->
	<dataValueTemplate dataElement="BM" disaggregation="myfBUBEhsTM">
	<annotation>
	select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      and (o.obs_datetime >= :startOfPeriod
		      and o.obs_datetime &lt;= :endOfPeriod)


			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		
			
			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

			and 
			o.value_numeric IS NOT NULL

			and
			(
			o.concept_id = (SELECT concept_id FROM concept_name 
						WHERE name = "Height (cm)" LIMIT 1)
			
			or 
			o.concept_id = (SELECT concept_id FROM concept_name 
						WHERE name = "Weight (kg)" LIMIT 1)

			or 
			o.concept_id = (SELECT concept_id FROM concept_name
						WHERE name = "Waist circumference (cm)" LIMIT 1)

			or 
			o.concept_id = (SELECT concept_id FROM concept_name 
						WHERE name = "Hip circumference (cm)" LIMIT 1)

			or 
			o.concept_id = (SELECT concept_id FROM concept_name 
						WHERE name = "head circumference (cm)" LIMIT 1)

			or 
			o.concept_id = (SELECT concept_id FROM concept_name 
						WHERE name = "chest circumference (cm)" LIMIT 1)
			)

		      and o.location_id = :locationId
	</annotation>
	</dataValueTemplate>


	<!-- VI 9 A. DIGITAL RECTAL EXAMINATION G M -->

	<!-- de: Digital Rectal Examination c: Given, Member -->
	<dataValueTemplate dataElement="DREX" disaggregation="MATQcQq5AV3">
	<annotation> 
		select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      and (o.obs_datetime >= :startOfPeriod
		      and o.obs_datetime &lt;= :endOfPeriod)


			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		
			
			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

			and
			o.concept_id = (SELECT concept_id FROM concept_name WHERE name="Digital rectal examination" LIMIT 1)	
			and 
			o.value_text = "yes"	

		      and o.location_id = :locationId
	</annotation>
	</dataValueTemplate>



	<!-- VI 9 B. DIGITAL RECTAL EXAMINATION G D--> 

	<!-- de: Digital Rectal Examination c: Given, Dependent -->
	<dataValueTemplate dataElement="DREX" disaggregation="myfBUBEhsTM">
	<annotation>
		select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      and (o.obs_datetime >= :startOfPeriod
		      and o.obs_datetime &lt;= :endOfPeriod)


			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		
			
			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

			and
			o.concept_id = (SELECT concept_id FROM concept_name WHERE name="Digital rectal examination" LIMIT 1)	
			and 
			o.value_text = "yes"	

		      and o.location_id = :locationId	
	</annotation>
	</dataValueTemplate>


	<!-- VI D1 A. COMPLETE BLOOD COUNT G M-->

	
	<!-- de: Complete Blood Count c: Given, Member -->
	<dataValueTemplate dataElement="CBC" disaggregation="MATQcQq5AV3">
	<annotation> 
		select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      
			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		
			
			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

			
			and o.person_id IN (
			SELECT patient_id FROM `chits_lab_request`  INNER JOIN chits_lab_type  on chits_lab_request.lab_type_id = chits_lab_type.id WHERE lab_type_id = (SELECT id FROM chits_lab_type WHERE name="Complete Blood Count" ) 
 		  	and (requestdate >= :startOfPeriod
		      and requestdate &lt;= :endOfPeriod)
 )

		      and o.location_id = :locationId
	</annotation>
	</dataValueTemplate>

	<!-- VI D1 B. COMPLETE BLOOD COUNT G D-->

	<!-- de: Complete Blood Count c: Given, Dependent -->
	<dataValueTemplate dataElement="CBC" disaggregation="myfBUBEhsTM">
	<annotation> 
		select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			
			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		
			
			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

			
			and o.person_id IN (
			SELECT patient_id FROM `chits_lab_request`  INNER JOIN chits_lab_type  on chits_lab_request.lab_type_id = chits_lab_type.id WHERE lab_type_id = (SELECT id FROM chits_lab_type WHERE name="Complete Blood Count"  ) 
			and (requestdate >= :startOfPeriod
		      and requestdate &lt;= :endOfPeriod)
)
	
		      and o.location_id = :locationId
	</annotation>
	</dataValueTemplate>

	<!-- VI D1 C. COMPLETE BLOOD COUNT R M-->
	
	<!-- de: Complete Blood Count c: Referred, Member -->
	<dataValueTemplate dataElement="CBC" disaggregation="NaXjTi9CCC6">
	<annotation>
		select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      and (o.obs_datetime >= :startOfPeriod
		      or o.obs_datetime &lt;= :endOfPeriod)


			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		
			
			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

			
			and o.person_id IN (
			SELECT patient_id FROM `chits_lab_request`  INNER JOIN chits_lab_type  on chits_lab_request.lab_type_id = chits_lab_type.id WHERE lab_type_id = (SELECT id FROM chits_lab_type WHERE name="Complete Blood Count" ) and meta LIKE "%refer%"
			and (requestdate >= :startOfPeriod
		      and requestdate &lt;= :endOfPeriod)
)
		      and o.location_id = :locationId
	</annotation>
	</dataValueTemplate>
	

	<!-- VI D1 D. COMPLETE BLOOD COUNT R D-->

	<!-- de: Complete Blood Count c: Referred, Dependent -->
	<dataValueTemplate dataElement="CBC" disaggregation="ieraUcKsaLc">
	<annotation> 
		select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      and (o.obs_datetime >= :startOfPeriod
		      or o.obs_datetime &lt;= :endOfPeriod)


			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		
			
			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

			
			and o.person_id IN (
			SELECT patient_id FROM `chits_lab_request`  INNER JOIN chits_lab_type  on chits_lab_request.lab_type_id = chits_lab_type.id WHERE lab_type_id = (SELECT id FROM chits_lab_type WHERE name="Complete Blood Count" ) and meta LIKE "%refer%"
			and (requestdate >= :startOfPeriod
		      and requestdate &lt;= :endOfPeriod)
)
		      and o.location_id = :locationId
	</annotation>
	</dataValueTemplate>



	<!-- VI DX2 A. URINALYSIS G M-->	

	
	<!-- de: Urinalysis c: Given, Member -->
	<dataValueTemplate dataElement="URINALY" disaggregation="MATQcQq5AV3">
	<annotation> 
		select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      and (o.obs_datetime >= :startOfPeriod
		      or o.obs_datetime &lt;= :endOfPeriod)


			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		
			
			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

			
			and o.person_id IN (
			SELECT patient_id FROM `chits_lab_request`  INNER JOIN chits_lab_type  on chits_lab_request.lab_type_id = chits_lab_type.id WHERE lab_type_id = (SELECT id FROM chits_lab_type WHERE name="Urinalysis" ) 
			and (requestdate >= :startOfPeriod
		      and requestdate &lt;= :endOfPeriod)
)

		      and o.location_id = :locationId
	</annotation>
	</dataValueTemplate>

	<!-- VI DX2 B. URINALYSIS G D-->	

	<!-- de: Urinalysis c: Given, Dependent -->
	<dataValueTemplate dataElement="URINALY" disaggregation="myfBUBEhsTM">
	<annotation> 
		select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      and (o.obs_datetime >= :startOfPeriod
		      or o.obs_datetime &lt;= :endOfPeriod)


			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		
			
			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

			
			and o.person_id IN (
			SELECT patient_id FROM `chits_lab_request`  INNER JOIN chits_lab_type  on chits_lab_request.lab_type_id = chits_lab_type.id WHERE lab_type_id = (SELECT id FROM chits_lab_type WHERE name="Urinalysis" ) 
			and (requestdate >= :startOfPeriod
		      and requestdate &lt;= :endOfPeriod)
)
		      and o.location_id = :locationId
	</annotation>
	</dataValueTemplate>

	<!-- VI DX2 C. URINALYSIS R M-->	

	<!-- de: Urinalysis c: Referred, Member -->
	<dataValueTemplate dataElement="URINALY" disaggregation="NaXjTi9CCC6">
	<annotation>
	select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      and (o.obs_datetime >= :startOfPeriod
		      or o.obs_datetime &lt;= :endOfPeriod)


			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		
			
			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

			
			and o.person_id IN (
			SELECT patient_id FROM `chits_lab_request`  INNER JOIN chits_lab_type  on chits_lab_request.lab_type_id = chits_lab_type.id WHERE lab_type_id = (SELECT id FROM chits_lab_type WHERE name="Urinalysis" ) and meta LIKE "%refer%"
			and (requestdate >= :startOfPeriod
		      and requestdate &lt;= :endOfPeriod)
)

		      and o.location_id = :locationId
	</annotation>
	</dataValueTemplate>

	<!-- VI DX2 D. URINALYSIS R D-->	

	<!-- de: Urinalysis c: Referred, Dependent -->
	<dataValueTemplate dataElement="URINALY" disaggregation="ieraUcKsaLc">
	<annotation>select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      and (o.obs_datetime >= :startOfPeriod
		      and o.obs_datetime &lt;= :endOfPeriod)


			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		
			
			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

			
			and o.person_id IN (
			SELECT patient_id FROM `chits_lab_request`  INNER JOIN chits_lab_type  on chits_lab_request.lab_type_id = chits_lab_type.id WHERE lab_type_id = (SELECT id FROM chits_lab_type WHERE name="Urinalysis" ) and meta LIKE "%refer%"
			and (requestdate >= :startOfPeriod
		      and requestdate &lt;= :endOfPeriod)
)

		      and o.location_id = :locationId
	</annotation>
	</dataValueTemplate>




	<!-- VI DX3 A. FECALYSIS G M-->	

	<!-- de: Fecalysis c: Given, Member -->
	<dataValueTemplate dataElement="FCLY" disaggregation="MATQcQq5AV3">
	<annotation>
		select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      and (o.obs_datetime >= :startOfPeriod
		      or o.obs_datetime &lt;= :endOfPeriod)


			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		
			
			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

			
			and o.person_id IN (
			SELECT patient_id FROM `chits_lab_request`  INNER JOIN chits_lab_type  on chits_lab_request.lab_type_id = chits_lab_type.id WHERE lab_type_id = (SELECT id FROM chits_lab_type WHERE name="Fecalysis" ) 
			and (requestdate >= :startOfPeriod
		      and requestdate &lt;= :endOfPeriod)
)

		      and o.location_id = :locationId
	</annotation>
	</dataValueTemplate>


	<!-- VI DX3 B. FECALYSIS G D-->	

	<!-- de: Fecalysis c: Given, Dependent -->
	<dataValueTemplate dataElement="FCLY" disaggregation="myfBUBEhsTM">
	<annotation>
			select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      and (o.obs_datetime >= :startOfPeriod
		      or o.obs_datetime &lt;= :endOfPeriod)


			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		
			
			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

			
			and o.person_id IN (
			SELECT patient_id FROM `chits_lab_request`  INNER JOIN chits_lab_type  on chits_lab_request.lab_type_id = chits_lab_type.id WHERE lab_type_id = (SELECT id FROM chits_lab_type WHERE name="Fecalysis" ) 
			and (requestdate >= :startOfPeriod
		      and requestdate &lt;= :endOfPeriod)
)

		      and o.location_id = :locationId
	</annotation>
	</dataValueTemplate>

	<!-- VI DX3 C. FECALYSIS R M-->	

	<!-- de: Fecalysis c: Referred, Member -->
	<dataValueTemplate dataElement="FCLY" disaggregation="NaXjTi9CCC6">
	<annotation> 
		select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      and (o.obs_datetime >= :startOfPeriod
		      or o.obs_datetime &lt;= :endOfPeriod)


			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		
			
			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

			
			and o.person_id IN (
			SELECT patient_id FROM `chits_lab_request`  INNER JOIN chits_lab_type  on chits_lab_request.lab_type_id = chits_lab_type.id WHERE lab_type_id = (SELECT id FROM chits_lab_type WHERE name="Fecalysis" ) and meta LIKE "%refer%"
			and (requestdate >= :startOfPeriod
		      and requestdate &lt;= :endOfPeriod)
)

		      and o.location_id = :locationId
	</annotation>
	</dataValueTemplate>

	<!-- VI DX3 D. FECALYSIS R D-->	
	
	<!-- de: Fecalysis c: Referred, Dependent -->
	<dataValueTemplate dataElement="FCLY" disaggregation="ieraUcKsaLc">
	<annotation> 
		select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      and (o.obs_datetime >= :startOfPeriod
		      or o.obs_datetime &lt;= :endOfPeriod)


			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		
			
			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

			
			and o.person_id IN (
			SELECT patient_id FROM `chits_lab_request`  INNER JOIN chits_lab_type  on chits_lab_request.lab_type_id = chits_lab_type.id WHERE lab_type_id = (SELECT id FROM chits_lab_type WHERE name="Fecalysis" ) and meta LIKE "%refer%"
			and (requestdate >= :startOfPeriod
		      and requestdate &lt;= :endOfPeriod)
)

		      and o.location_id = :locationId
	</annotation>
	</dataValueTemplate>



	<!-- VI DX4 A. SPUTUM MICROSCOPY G M-->	

	<!-- de: Sputum Microscopy c: Given, Member -->

	<dataValueTemplate dataElement="SPMIC" disaggregation="MATQcQq5AV3">
	<annotation> 
	select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      and (o.obs_datetime >= :startOfPeriod
		      or o.obs_datetime &lt;= :endOfPeriod)


			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		
			
			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

			
			and o.person_id IN (
			SELECT patient_id FROM `chits_lab_request`  INNER JOIN chits_lab_type  on chits_lab_request.lab_type_id = chits_lab_type.id WHERE lab_type_id = (SELECT id FROM chits_lab_type WHERE name="Direct Sputum Smear Microscopy" ) 
			and (requestdate >= :startOfPeriod
		      and requestdate &lt;= :endOfPeriod)
)
		      and o.location_id = :locationId
	</annotation>

	</dataValueTemplate>

	<!-- VI DX4 B. SPUTUM MICROSCOPY G D-->	

		<!--SPUTUM MICROSCOPY-->	
	<!-- de: Sputum Microscopy c: Given, Dependent -->
	<dataValueTemplate dataElement="SPMIC" disaggregation="myfBUBEhsTM">

	<annotation>
		select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      and (o.obs_datetime >= :startOfPeriod
		      or o.obs_datetime &lt;= :endOfPeriod)


			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		
			
			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

			
			and o.person_id IN (
			SELECT patient_id FROM `chits_lab_request`  INNER JOIN chits_lab_type  on chits_lab_request.lab_type_id = chits_lab_type.id WHERE lab_type_id = (SELECT id FROM chits_lab_type WHERE name="Direct Sputum Smear Microscopy" ) 
			and (requestdate >= :startOfPeriod
		      and requestdate &lt;= :endOfPeriod)
)	

		      and o.location_id = :locationId
	</annotation>
	</dataValueTemplate>


	<!-- VI DX4 C. SPUTUM MICROSCOPY R M-->	
	
	<!-- de: Sputum Microscopy c: Referred, Member -->
	<dataValueTemplate dataElement="SPMIC" disaggregation="NaXjTi9CCC6">
	<annotation> 
		select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      and (o.obs_datetime >= :startOfPeriod
		      or o.obs_datetime &lt;= :endOfPeriod)


			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		
			
			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

			and o.person_id IN (
			SELECT patient_id FROM `chits_lab_request`  INNER JOIN chits_lab_type  on chits_lab_request.lab_type_id = chits_lab_type.id WHERE lab_type_id = (SELECT id FROM chits_lab_type WHERE name="Direct Sputum Smear Microscopy" ) and meta LIKE "%refer%"
			and (requestdate >= :startOfPeriod
		      and requestdate &lt;= :endOfPeriod)
)

		      and o.location_id = :locationId
	</annotation>
	</dataValueTemplate>


	<!-- VI DX4 D. SPUTUM MICROSCOPY R D-->	
	
	<!-- de: Sputum Microscopy c: Referred, Dependent -->
	<dataValueTemplate dataElement="SPMIC" disaggregation="ieraUcKsaLc">
	<annotation> 
		select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      and (o.obs_datetime >= :startOfPeriod
		      or o.obs_datetime &lt;= :endOfPeriod)


			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		
			
			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

			
			and o.person_id IN (
			SELECT patient_id FROM `chits_lab_request`  INNER JOIN chits_lab_type  on chits_lab_request.lab_type_id = chits_lab_type.id WHERE lab_type_id = (SELECT id FROM chits_lab_type WHERE name="Direct Sputum Smear Microscopy" ) and meta LIKE "%refer%"
			and (requestdate >= :startOfPeriod
		      and requestdate &lt;= :endOfPeriod)
)

		      and o.location_id = :locationId
	</annotation>
	</dataValueTemplate>


	<!--FASTING BLOOD SUGAR-->	

	<!-- VI DX5 A. FASTING BLOOD SUGAR G M-->	

	<!-- de: Fasting Blood Sugar c: Given, Member -->
	<dataValueTemplate dataElement="FBSUG" disaggregation="MATQcQq5AV3">
	<annotation>
	select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      and (o.obs_datetime >= :startOfPeriod
		      or o.obs_datetime &lt;= :endOfPeriod)


			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		
			
			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

			
			and o.person_id IN (
			SELECT patient_id FROM `chits_lab_request`  INNER JOIN chits_lab_type  on chits_lab_request.lab_type_id = chits_lab_type.id WHERE lab_type_id = (SELECT id FROM chits_lab_type WHERE name="Fasting Blood Sugar" ) 
			and (requestdate >= :startOfPeriod
		      and requestdate &lt;= :endOfPeriod)
)	

		      and o.location_id = :locationId
	</annotation>
	</dataValueTemplate>

	<!-- VI DX5 B. FASTING BLOOD SUGAR G D-->	

	<!-- de: Fasting Blood Sugar c: Given, Dependent -->
	<dataValueTemplate dataElement="FBSUG" disaggregation="myfBUBEhsTM">
	<annotation> 
			select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      and (o.obs_datetime >= :startOfPeriod
		      or o.obs_datetime &lt;= :endOfPeriod)


			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		
			
			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

			
			and o.person_id IN (
			SELECT patient_id FROM `chits_lab_request`  INNER JOIN chits_lab_type  on chits_lab_request.lab_type_id = chits_lab_type.id WHERE lab_type_id = (SELECT id FROM chits_lab_type WHERE name="Fasting Blood Sugar" ) 
			and (requestdate >= :startOfPeriod
		      and requestdate &lt;= :endOfPeriod)
)

		      and o.location_id = :locationId	
	</annotation>
	</dataValueTemplate>

	<!-- VI DX5 C. FASTING BLOOD SUGAR R M-->
	
	<!-- de: Fasting Blood Sugar c: Referred, Member -->
	<dataValueTemplate dataElement="FBSUG" disaggregation="NaXjTi9CCC6">
	<annotation> 
		select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      and (o.obs_datetime >= :startOfPeriod
		      or o.obs_datetime &lt;= :endOfPeriod)


			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		
			
			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

			
			and o.person_id IN (
			SELECT patient_id FROM `chits_lab_request`  INNER JOIN chits_lab_type  on chits_lab_request.lab_type_id = chits_lab_type.id WHERE lab_type_id = (SELECT id FROM chits_lab_type WHERE name="Fasting Blood Sugar" )  and meta LIKE "%refer%"
			and (requestdate >= :startOfPeriod
		      and requestdate &lt;= :endOfPeriod)
)

		      and o.location_id = :locationId	
</annotation>
	</dataValueTemplate>


	<!-- VI DX5 D. FASTING BLOOD SUGAR R D-->	

	<!-- de: Fasting Blood Sugar c: Referred, Dependent -->
	<dataValueTemplate dataElement="FBSUG" disaggregation="ieraUcKsaLc">
	<annotation> 
		select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      and (o.obs_datetime >= :startOfPeriod
		      or o.obs_datetime &lt;= :endOfPeriod)


			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		
			
			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

			
			and o.person_id IN (
			SELECT patient_id FROM `chits_lab_request`  INNER JOIN chits_lab_type  on chits_lab_request.lab_type_id = chits_lab_type.id WHERE lab_type_id = (SELECT id FROM chits_lab_type WHERE name="Fasting Blood Sugar" ) and meta LIKE "%refer%"
			and (requestdate >= :startOfPeriod
		      and requestdate &lt;= :endOfPeriod)
)	

		      and o.location_id = :locationId	
	</annotation>
	</dataValueTemplate>

	      
	<!--LIPID PROFILE-->	

	<!-- VI DX6 A. LIPID PROFILE G M-->

	
	<!-- de: Lipid Profile c: Given, Member -->

	<dataValueTemplate dataElement="LPROF" disaggregation="MATQcQq5AV3">
	<annotation> 
		select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      and (o.obs_datetime >= :startOfPeriod
		      or o.obs_datetime &lt;= :endOfPeriod)


			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		
			
			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

			
			and o.person_id IN (
			SELECT patient_id FROM `chits_lab_request`  INNER JOIN chits_lab_type  on chits_lab_request.lab_type_id = chits_lab_type.id WHERE lab_type_id = (SELECT id FROM chits_lab_type WHERE name="Lipid Profile" ) 
			and (requestdate >= :startOfPeriod
		      and requestdate &lt;= :endOfPeriod)
)

		      and o.location_id = :locationId	
	</annotation>

	</dataValueTemplate>

	
	<!-- VI DX6 B. LIPID PROFILE G D-->	

	<!-- de: Lipid Profile c: Given, Dependent -->
	<dataValueTemplate dataElement="LPROF" disaggregation="myfBUBEhsTM">

	<annotation> 
			select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      and (o.obs_datetime >= :startOfPeriod
		      or o.obs_datetime &lt;= :endOfPeriod)


			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		
			
			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

			
			and o.person_id IN (
			SELECT patient_id FROM `chits_lab_request`  INNER JOIN chits_lab_type  on chits_lab_request.lab_type_id = chits_lab_type.id WHERE lab_type_id = (SELECT id FROM chits_lab_type WHERE name="Lipid Profile" ) 
			and (requestdate >= :startOfPeriod
		      and requestdate &lt;= :endOfPeriod)
)

		      and o.location_id = :locationId		
	</annotation>
	</dataValueTemplate>


	<!-- VI DX6 C. LIPID PROFILE R M-->	

	<!-- de: Lipid Profile c: Referred, Member -->
	<dataValueTemplate dataElement="LPROF" disaggregation="NaXjTi9CCC6">
	<annotation>
			select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      and (o.obs_datetime >= :startOfPeriod
		      or o.obs_datetime &lt;= :endOfPeriod)


			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		
			
			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

			
			and o.person_id IN (
			SELECT patient_id FROM `chits_lab_request`  INNER JOIN chits_lab_type  on chits_lab_request.lab_type_id = chits_lab_type.id WHERE lab_type_id = (SELECT id FROM chits_lab_type WHERE name="Lipid Profile" ) and meta LIKE "%refer%"
			and (requestdate >= :startOfPeriod
		      and requestdate &lt;= :endOfPeriod)
)	

		      and o.location_id = :locationId
	</annotation>
	</dataValueTemplate>

	<!-- VI DX6 D. LIPID PROFILE R D-->	

	<!-- de: Lipid Profile c: Referred, Dependent -->
	<dataValueTemplate dataElement="LPROF" disaggregation="ieraUcKsaLc">
	<annotation> 
			select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      and (o.obs_datetime >= :startOfPeriod
		      or o.obs_datetime &lt;= :endOfPeriod)


			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		
			
			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

			
			and o.person_id IN (
			SELECT patient_id FROM `chits_lab_request`  INNER JOIN chits_lab_type  on chits_lab_request.lab_type_id = chits_lab_type.id WHERE lab_type_id = (SELECT id FROM chits_lab_type WHERE name="Lipid Profile" ) and meta LIKE "%refer%"
			and (requestdate >= :startOfPeriod
		      and requestdate &lt;= :endOfPeriod)
)	

		      and o.location_id = :locationId
	</annotation>
	</dataValueTemplate>



	<!-- CHEST X-RAY -->
	<!-- VI DX7 A. CHEST X-RAY G M-->

	
	<!-- de: Chest X-Ray c: Given, Member -->
	<dataValueTemplate dataElement="CXRAY" disaggregation="MATQcQq5AV3">
	<annotation> 
			select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      and (o.obs_datetime >= :startOfPeriod
		      or o.obs_datetime &lt;= :endOfPeriod)


			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		
			
			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

			
			and o.person_id IN (
			SELECT patient_id FROM `chits_lab_request`  INNER JOIN chits_lab_type  on chits_lab_request.lab_type_id = chits_lab_type.id WHERE lab_type_id = (SELECT id FROM chits_lab_type WHERE name="X-Ray" ) and meta LIKE '%chest%'
			and (requestdate >= :startOfPeriod
		      and requestdate &lt;= :endOfPeriod)
)

		      and o.location_id = :locationId	
	</annotation>
	</dataValueTemplate>
	
	<!-- VI DX7 B. CHEST X-RAY G D-->	

	<!-- de: Chest X-Ray c: Given, Dependent -->
	<dataValueTemplate dataElement="CXRAY" disaggregation="myfBUBEhsTM">

	<annotation>
		select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      and (o.obs_datetime >= :startOfPeriod
		      or o.obs_datetime &lt;= :endOfPeriod)


			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		
			
			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

			
			and o.person_id IN (
			SELECT patient_id FROM `chits_lab_request`  INNER JOIN chits_lab_type  on chits_lab_request.lab_type_id = chits_lab_type.id WHERE lab_type_id = (SELECT id FROM chits_lab_type WHERE name="X-Ray" ) and meta LIKE '%chest%'
			and (requestdate >= :startOfPeriod
		      and requestdate &lt;= :endOfPeriod)
)

		      and o.location_id = :locationId	
	</annotation>
	</dataValueTemplate>

	<!-- VI DX7 C. CHEST X-RAY R M-->

	<!-- de: Chest X-Ray c: Referred, Member -->
	<dataValueTemplate dataElement="CXRAY" disaggregation="NaXjTi9CCC6">
	<annotation>
		select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      and (o.obs_datetime >= :startOfPeriod
		      or o.obs_datetime &lt;= :endOfPeriod)


			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		
			
			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

			
			and o.person_id IN (
			SELECT patient_id FROM `chits_lab_request`  INNER JOIN chits_lab_type  on chits_lab_request.lab_type_id = chits_lab_type.id WHERE lab_type_id = (SELECT id FROM chits_lab_type WHERE name="X-Ray" ) and meta LIKE "%refer%" and meta LIKE '%chest%'
			and (requestdate >= :startOfPeriod
		      and requestdate &lt;= :endOfPeriod)
)	

		      and o.location_id = :locationId
	</annotation>
	</dataValueTemplate>
	
	<!-- VI DX7 D. CHEST X-RAY R D-->	
	
	<!-- de: Chest X-Ray c: Referred, Dependent -->
	<dataValueTemplate dataElement="CXRAY" disaggregation="ieraUcKsaLc">
	<annotation> 
		select count(distinct o.person_id)
		      from obs o
			inner join person p on o.person_id = p.person_id
		      where p.voided = 0 and o.voided = 0
			 
		      and (o.obs_datetime >= :startOfPeriod
		      or o.obs_datetime &lt;= :endOfPeriod)


			and o.person_id IN (SELECT pa.person_id 
	FROM person_attribute pa
	WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
	)
and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
	and voided = 0
	)		
			
			and o.person_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

			
			and o.person_id IN (
			SELECT patient_id FROM `chits_lab_request`  INNER JOIN chits_lab_type  on chits_lab_request.lab_type_id = chits_lab_type.id WHERE lab_type_id = (SELECT id FROM chits_lab_type WHERE name="X-Ray" ) and meta LIKE '%chest%' and meta LIKE "%refer%"
			and (requestdate >= :startOfPeriod
		      and requestdate &lt;= :endOfPeriod)
)	
	
		      and o.location_id = :locationId
	</annotation>
	</dataValueTemplate>



	
	<!-- I. Covered Period	From -->

	 <dataValueTemplate dataElement="PERIOD" disaggregation="XaWGdBZCE67">
           <annotation>
      	       select DATE(:startOfPeriod)
      	from obs o
      	where o.voided = 0 
        and (o.date_created >= :startOfPeriod
      	or o.date_created &lt;= :endOfPeriod)
      	and o.location_id = :locationId
	limit 1
    	           </annotation>
  	       </dataValueTemplate>     


	<!-- I. Covered Period	To -->

	 <dataValueTemplate dataElement="PERIOD" disaggregation="t5KCPK2YLn8">
           <annotation>
      	       select DATE(:endOfPeriod)
      	from obs o
      	where o.voided = 0 
        and (o.date_created >= :startOfPeriod
      	or o.date_created &lt;= :endOfPeriod)
      	and o.location_id = :locationId
	limit 1
    	           </annotation>
  	       </dataValueTemplate>    

	   

	<!-- II.  PARTICIPATION NUMBER -->

	 <dataValueTemplate dataElement="PARTICIPATIONNUM" disaggregation="beBubnoFLUo">
           <annotation>
      	       select name
      	from location l
      	where l.retired = 0 
        and (l.date_created >= :startOfPeriod
      	or l.date_created &lt;= :endOfPeriod)
      	and l.location_id = :locationId
    	           </annotation>
  	       </dataValueTemplate>     




	<!-- III-B.  PROVINCE (using state_province) -->

	 <dataValueTemplate dataElement="PROVINCE" disaggregation="beBubnoFLUo">
           <annotation>
      	       select state_province
      	from location l
      	where l.retired = 0 
        and (l.date_created >= :startOfPeriod
      	or l.date_created &lt;= :endOfPeriod)
      	and l.location_id = :locationId
    	           </annotation>
  	       </dataValueTemplate>     





		<!-- VII. MEDICINES GIVEN -->

	
	<!-- I. ASTHMA -->


<!-- I. Asthma 	M 	
Fluticasone + salmeterol (4-12 y/o)  50mcg/25 mcg x120 doses inhaler -->

	 <dataValueTemplate dataElement="MEDSGIVENFORASTHMA" disaggregation="eJ7zexkqghD">
           <annotation>
      	     	<!--dose not found:
			FLUTICASONE + SALMETEROL , 50mcg/25 mcg x120 doses-->
		<!--%asthma%-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'FLUTICASONE + SALMETEROL , 50mcg/25 mcg x120 doses'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%') and (value_text LIKE '%asthma%') AND (value_text NOT LIKE '%family history of asthma%')
		and obs.voided = 0
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>

	
<!-- I. Asthma 	D 	
Fluticasone + salmeterol (4-12 y/o)  50mcg/25 mcg x120 doses inhaler -->

	 <dataValueTemplate dataElement="MEDSGIVENFORASTHMA" disaggregation="wnYltJ0FrD2">
           <annotation>
      	      	 <!--dose not found:
			FLUTICASONE + SALMETEROL , 50mcg/25 mcg x120 doses-->  
		 <!--%asthma%-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'FLUTICASONE + SALMETEROL , 50mcg/25 mcg x120 doses'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%') and (value_text LIKE '%asthma%') AND (value_text NOT LIKE '%family history of asthma%')
		and obs.voided = 0
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>





<!-- I. Asthma 	M 	
Fluticasone + salmeterol  (adult) 125mcg/25 mcg x120 doses inhaler -->

	 <dataValueTemplate dataElement="MEDSGIVENFORASTHMA" disaggregation="YI0mBeyE0JA">
           <annotation>
      	      	<!--dose not found:
			FLUTICASONE + SALMETEROL , 125mcg/25 mcg x120 doses-->
		<!--%asthma%-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'FLUTICASONE + SALMETEROL , 50mcg/25 mcg x120 doses'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%') and (value_text LIKE '%asthma%') AND (value_text NOT LIKE '%family history of asthma%')
		and obs.voided = 0
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>



<!-- I. Asthma 	D 	
Fluticasone + salmeterol  (adult) 125mcg/25 mcg x120 doses inhaler -->

	 <dataValueTemplate dataElement="MEDSGIVENFORASTHMA" disaggregation="X53upyghr0h">
           <annotation>
		<!--dose not found:
			FLUTICASONE + SALMETEROL , 125mcg/25 mcg x120 doses-->
		<!--%asthma%-->
      	      	SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'FLUTICASONE + SALMETEROL , 50mcg/25 mcg x120 doses'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%') and (value_text LIKE '%asthma%') AND (value_text NOT LIKE '%family history of asthma%')
		and obs.voided = 0
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


<!-- I. Asthma 	M 	
Salbutamol (adult) 100mcg/inhalation x 200 doses) inhaler -->

	 <dataValueTemplate dataElement="MEDSGIVENFORASTHMA" disaggregation="esOJ9gmpTv1">
           <annotation>
      	      	<!--drug not found:
			SALBUTAMOL , 100mcg/inhalation x 200 doses-->
		<!--%asthma%-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'SALBUTAMOL , 100mcg/inhalation x 200 doses'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%') and (value_text LIKE '%asthma%') AND (value_text NOT LIKE '%family history of asthma%')
		and obs.voided = 0
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>
	

<!-- Asthma 	D 	
Salbutamol (adult) 100mcg/inhalation x 200 doses) inhaler -->

	 <dataValueTemplate dataElement="MEDSGIVENFORASTHMA" disaggregation="yoc4IGzfdWk">
           <annotation>
      	      	<!--drug not found:
			SALBUTAMOL , 100mcg/inhalation x 200 doses-->
		<!--%asthma%-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'SALBUTAMOL , 100mcg/inhalation x 200 doses'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%') and (value_text LIKE '%asthma%') AND (value_text NOT LIKE '%family history of asthma%')
		and obs.voided = 0
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>
	

<!-- Asthma 	M 	
Lagundi 300mg tablet -->

	 <dataValueTemplate dataElement="MEDSGIVENFORASTHMA" disaggregation="xpXTCLIfQhp">
           <annotation>
      	      	<!--drug not found:
			LAGUNDI , 300 mg , Tablet ,-->
		<!--%asthma%-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'LAGUNDI , 300 mg , Tablet ,'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%') and (value_text LIKE '%asthma%') AND (value_text NOT LIKE '%family history of asthma%')
		and obs.voided = 0
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>

	

<!-- Asthma 	D 	
Lagundi 300mg tablet -->

	 <dataValueTemplate dataElement="MEDSGIVENFORASTHMA" disaggregation="CwU8Kx2x0QL">
           <annotation>
      	      	<!--drug not found:
			LAGUNDI , 300 mg , Tablet ,-->
		<!--%asthma%-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'LAGUNDI , 300 mg , Tablet ,'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%') and (value_text LIKE '%asthma%') AND (value_text NOT LIKE '%family history of asthma%')
		and obs.voided = 0
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>

	

<!-- Asthma 	M 	
Lagundi 600mg tablet -->

	 <dataValueTemplate dataElement="MEDSGIVENFORASTHMA" disaggregation="OJrMS8XYllS">
           <annotation>
      	      	<!--drug not found:
			LAGUNDI , 600 mg , Tablet ,-->
		<!--%asthma%-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'LAGUNDI , 600 mg , Tablet ,'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%') and (value_text LIKE '%asthma%') AND (value_text NOT LIKE '%family history of asthma%')
		and obs.voided = 0
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>

	

<!-- Asthma 	D 	
Lagundi 600mg tablet -->

	 <dataValueTemplate dataElement="MEDSGIVENFORASTHMA" disaggregation="zc0jHPL2fzo">
           <annotation>
      	      	<!--drug not found:
			LAGUNDI , 600 mg , Tablet ,-->
		<!--%asthma%-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'LAGUNDI , 600 mg , Tablet ,'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%') and (value_text LIKE '%asthma%') AND (value_text NOT LIKE '%family history of asthma%')
		and obs.voided = 0
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>



	<!--II. AGE with no or mild dehydration-->


<!--  II. AGE with no or mild dehydration 	M 	
 Metronidazole 500mg tablet -->
		
	 <dataValueTemplate dataElement="MEDSGIVENFORAGE" disaggregation="c3On7fG7qbs">
           <annotation>
      	      	<!--METRONIDAZOLE , 500 mg , Tablet ,-->
		<!--%acute gastroenteritis%-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'METRONIDAZOLE , 500 mg , Tablet ,'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%') and (value_text LIKE '%acute gastroenter%' OR value_text LIKE 'infectious gastroenter%' )
		and obs.voided = 0
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


<!--  II. AGE with no or mild dehydration 	D 	
 Metronidazole 500mg tablet -->

	 <dataValueTemplate dataElement="MEDSGIVENFORAGE" disaggregation="bmrUooO2jCs">
           <annotation>
      	      	   <!--METRONIDAZOLE , 500 mg , Tablet ,-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'METRONIDAZOLE , 500 mg , Tablet ,'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%') and (value_text LIKE '%acute gastroenter%' OR value_text LIKE 'infectious gastroenter%' )
		and obs.voided = 0
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


<!--  II. AGE with no or mild dehydration 	M 	
  Doxycycline (as hyclate) 100mg capsule -->

	 <dataValueTemplate dataElement="MEDSGIVENFORAGE" disaggregation="ySivpIx4Axw">
           <annotation>
      	      	   <!--DOXYCYCLINE , 100 mg , Capsule ,-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'DOXYCYCLINE , 100 mg , Capsule ,'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%') and (value_text LIKE '%acute gastroenter%' OR value_text LIKE 'infectious gastroenter%' )
		and obs.voided = 0 
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


<!--  II. AGE with no or mild dehydration 	D 	
  Doxycycline (as hyclate) 100mg capsule -->

	 <dataValueTemplate dataElement="MEDSGIVENFORAGE" disaggregation="XHWcgM6gpXu">
           <annotation>
      	      	   <!--DOXYCYCLINE , 100 mg , Capsule ,-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'DOXYCYCLINE , 100 mg , Capsule ,'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%') and (value_text LIKE '%acute gastroenter%' OR value_text LIKE 'infectious gastroenter%' )
		and obs.voided = 0
				
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>




	<!--  III. URTI/Pneumonia (minimal & low risk) -->

<!--   III. URTI/Pneumonia (minimal & low risk) 	M 	
   Amoxicillin  (as trihydrate) 500mg capsule -->

	 <dataValueTemplate dataElement="MEDSGIVENFORURTIPNEUM" disaggregation="uTT5D5L1cUO">
           <annotation>
      	      	   <!--AMOXICILLIN , 500 mg , Capsule ,-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'AMOXICILLIN , 500 mg , Capsule ,'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%' and (value_text LIKE '%upper respiratory%infection%' OR value_text LIKE '%pneumonia%' )
   and value_text NOT LIKE '%without pneumonia%'
		and obs.voided = 0
				) 
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


<!--   III. URTI/Pneumonia (minimal & low risk) 	D 	
   Amoxicillin  (as trihydrate) 500mg capsule -->

	 <dataValueTemplate dataElement="MEDSGIVENFORURTIPNEUM" disaggregation="iMOgQ57gFVm">
           <annotation>
      	      	   <!--AMOXICILLIN , 500 mg , Capsule ,-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'AMOXICILLIN , 500 mg , Capsule ,'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%' and (value_text LIKE '%upper respiratory%infection%' OR value_text LIKE '%pneumonia%' )
   and value_text NOT LIKE '%without pneumonia%'
		and obs.voided = 0
				) 
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


<!--   III. URTI/Pneumonia (minimal & low risk) 	M 	
    Amoxicillin (as trihydrate) 100mg/mL 10mL granules for drops (suspension)-->

	 <dataValueTemplate dataElement="MEDSGIVENFORURTIPNEUM" disaggregation="c4Q3Aht6f5t">
           <annotation>
      	      	   <!--AMOXICILLIN , 100 mg/mL , Granules/Powder for Drops , 10 mL-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'AMOXICILLIN , 100 mg/mL , Granules/Powder for Drops , 10 mL'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%' and (value_text LIKE '%upper respiratory%infection%' OR value_text LIKE '%pneumonia%' )
   and value_text NOT LIKE '%without pneumonia%'
		and obs.voided = 0
				) 
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


<!--   III. URTI/Pneumonia (minimal & low risk) 	D 	
    Amoxicillin (as trihydrate) 100mg/mL 10mL granules for drops (suspension)-->

	 <dataValueTemplate dataElement="MEDSGIVENFORURTIPNEUM" disaggregation="LdFZ4kROrtG">
           <annotation>
      	      	   <!--AMOXICILLIN , 100 mg/mL , Granules/Powder for Drops , 10 mL-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'AMOXICILLIN , 100 mg/mL , Granules/Powder for Drops , 10 mL'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%' and (value_text LIKE '%upper respiratory%infection%' OR value_text LIKE '%pneumonia%' )
   and value_text NOT LIKE '%without pneumonia%'
		and obs.voided = 0
				) 
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


<!--   III. URTI/Pneumonia (minimal & low risk) 	M 	
     Cloxacillin  (as sodium) 500mg capsule-->

	 <dataValueTemplate dataElement="MEDSGIVENFORURTIPNEUM" disaggregation="mhHaiMeaBce">
           <annotation>
      	      	   <!--CLOXACILLIN , 500 mg , Capsule ,-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'CLOXACILLIN , 500 mg , Capsule ,'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%' and (value_text LIKE '%upper respiratory%infection%' OR value_text LIKE '%pneumonia%' )
   and value_text NOT LIKE '%without pneumonia%'
		and obs.voided = 0
				) 
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


<!--   III. URTI/Pneumonia (minimal & low risk) 	D 	
     Cloxacillin  (as sodium) 500mg capsule-->

	 <dataValueTemplate dataElement="MEDSGIVENFORURTIPNEUM" disaggregation="stKO4yi6T1C">
           <annotation>
      	      	   <!--CLOXACILLIN , 500 mg , Capsule ,-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'CLOXACILLIN , 500 mg , Capsule ,'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%' and (value_text LIKE '%upper respiratory%infection%' OR value_text LIKE '%pneumonia%' )
   and value_text NOT LIKE '%without pneumonia%'
		and obs.voided = 0
				) 
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>



<!--   III. URTI/Pneumonia (minimal & low risk) 	M 	
      Cloxacillin (as sodium) 125 mg/5 mL 60mL powder for suspension/syrup-->

	 <dataValueTemplate dataElement="MEDSGIVENFORURTIPNEUM" disaggregation="ZJ8sXwlBnlZ">
           <annotation>
      	      	   <!--CLOXACILLIN , 125 mg/5 mL , Powder for Syrup/Suspension , 60 mL-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'CLOXACILLIN , 125 mg/5 mL , Powder for Syrup/Suspension , 60 mL'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%' and (value_text LIKE '%upper respiratory%infection%' OR value_text LIKE '%pneumonia%' )
   and value_text NOT LIKE '%without pneumonia%'
		and obs.voided = 0
				) 
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


<!--   III. URTI/Pneumonia (minimal & low risk) 	D 	
      Cloxacillin (as sodium) 125 mg/5 mL 60mL powder for suspension/syrup-->

	 <dataValueTemplate dataElement="MEDSGIVENFORURTIPNEUM" disaggregation="CpCOSWIenv2">
           <annotation>
      	      	   <!--CLOXACILLIN , 125 mg/5 mL , Powder for Syrup/Suspension , 60 mL-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'CLOXACILLIN , 125 mg/5 mL , Powder for Syrup/Suspension , 60 mL'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%' and (value_text LIKE '%upper respiratory%infection%' OR value_text LIKE '%pneumonia%' )
   and value_text NOT LIKE '%without pneumonia%'
		and obs.voided = 0
				) 
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>

<!--   III. URTI/Pneumonia (minimal & low risk) 	M 	
       Ciprofloxacin (as hydrochloride) 500mg tablet-->

	 <dataValueTemplate dataElement="MEDSGIVENFORURTIPNEUM" disaggregation="FlhnbhcdMXW">
           <annotation>
      	      	   <!--CIPROFLOXACIN , 500 mg , Tablet ,-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'CIPROFLOXACIN , 500 mg , Tablet ,'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%' and (value_text LIKE '%upper respiratory%infection%' OR value_text LIKE '%pneumonia%' )
   and value_text NOT LIKE '%without pneumonia%'
		and obs.voided = 0
				) 
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


<!--   III. URTI/Pneumonia (minimal & low risk) 	D 	
       Ciprofloxacin (as hydrochloride) 500mg tablet-->

	 <dataValueTemplate dataElement="MEDSGIVENFORURTIPNEUM" disaggregation="JI1ZgYjbBxm">
           <annotation>
      	      	   <!--CIPROFLOXACIN , 500 mg , Tablet ,-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'CIPROFLOXACIN , 500 mg , Tablet ,'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%' and (value_text LIKE '%upper respiratory%infection%' OR value_text LIKE '%pneumonia%' )
   and value_text NOT LIKE '%without pneumonia%'
		and obs.voided = 0
				) 
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


<!--   III. URTI/Pneumonia (minimal & low risk) 	M 	
       Cotrimoxazole (sulfamethoxazole + trimethoprim) 800mg + 160mg tablet-->

	 <dataValueTemplate dataElement="MEDSGIVENFORURTIPNEUM" disaggregation="bxf9R0QWXaF">
           <annotation>
      	      	   <!--COTRIMOXAZOLE , 800 mg + 160 mg , Tablet ,-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'COTRIMOXAZOLE , 800 mg + 160 mg , Tablet ,'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%' and (value_text LIKE '%upper respiratory%infection%' OR value_text LIKE '%pneumonia%' )
   and value_text NOT LIKE '%without pneumonia%'
		and obs.voided = 0
				) 
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


<!--   III. URTI/Pneumonia (minimal & low risk) 	D 	
       Cotrimoxazole (sulfamethoxazole + trimethoprim) 800mg + 160mg tablet-->

	 <dataValueTemplate dataElement="MEDSGIVENFORURTIPNEUM" disaggregation="giDk8ju0wKK">
           <annotation>
      	      	   <!--COTRIMOXAZOLE , 800 mg + 160 mg , Tablet ,-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'COTRIMOXAZOLE , 800 mg + 160 mg , Tablet ,'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%' and (value_text LIKE '%upper respiratory%infection%' OR value_text LIKE '%pneumonia%' )
   and value_text NOT LIKE '%without pneumonia%'
		and obs.voided = 0
				) 
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


<!--   III. URTI/Pneumonia (minimal & low risk) 	M 	
        Cotrimoxazole (sulfamethoxazole + trimethoprim) 200mg + 40mg/5mL 60mL suspension -->

	 <dataValueTemplate dataElement="MEDSGIVENFORURTIPNEUM" disaggregation="t7hPE5RGRT2">
           <annotation>
      	      	   <!--COTRIMOXAZOLE , 200 mg + 40 mg per 5 mL , Suspension , 60 mL-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'COTRIMOXAZOLE , 200 mg + 40 mg per 5 mL , Suspension , 60 mL'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%' and (value_text LIKE '%upper respiratory%infection%' OR value_text LIKE '%pneumonia%' )
   and value_text NOT LIKE '%without pneumonia%'
		and obs.voided = 0
				) 
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


<!--   III. URTI/Pneumonia (minimal & low risk) 	D	
        Cotrimoxazole (sulfamethoxazole + trimethoprim) 200mg + 40mg/5mL 60mL suspension -->

	 <dataValueTemplate dataElement="MEDSGIVENFORURTIPNEUM" disaggregation="DwWcOxcQYU6">
           <annotation>
      	      	   <!--COTRIMOXAZOLE , 200 mg + 40 mg per 5 mL , Suspension , 60 mL-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'COTRIMOXAZOLE , 200 mg + 40 mg per 5 mL , Suspension , 60 mL'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%' and (value_text LIKE '%upper respiratory%infection%' OR value_text LIKE '%pneumonia%' )
   and value_text NOT LIKE '%without pneumonia%'
		and obs.voided = 0
				) 
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>



<!--   III. URTI/Pneumonia (minimal & low risk) 	M	
         Erythromycin (base) 500mg tablet -->

	 <dataValueTemplate dataElement="MEDSGIVENFORURTIPNEUM" disaggregation="ybutWWuBrVj">
           <annotation>
      	      	   <!--ERYTHROMYCIN , 500 mg , Tablet ,-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'ERYTHROMYCIN , 500 mg , Tablet ,'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%' and (value_text LIKE '%upper respiratory%infection%' OR value_text LIKE '%pneumonia%' )
   and value_text NOT LIKE '%without pneumonia%'
		and obs.voided = 0
				) 
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


<!--   III. URTI/Pneumonia (minimal & low risk) 	D	
         Erythromycin (base) 500mg tablet -->

	 <dataValueTemplate dataElement="MEDSGIVENFORURTIPNEUM" disaggregation="Tj9rv7yxxxO">
           <annotation>
      	      	   <!--ERYTHROMYCIN , 500 mg , Tablet ,-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'ERYTHROMYCIN , 500 mg , Tablet ,'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%' and (value_text LIKE '%upper respiratory%infection%' OR value_text LIKE '%pneumonia%' )
   and value_text NOT LIKE '%without pneumonia%'
		and obs.voided = 0
				) 
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>





	<!-- IV. UTI -->


<!--    IV. UTI 	M	
          Amoxicillin  (as trihydrate) 500mg capsule -->

	 <dataValueTemplate dataElement="MEDSGIVENFORUTI" disaggregation="uTT5D5L1cUO">
           <annotation>
      	      	   <!--AMOXICILLIN , 500 mg , Capsule ,-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'AMOXICILLIN , 500 mg , Capsule ,'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%' and (value_text LIKE '%urinary%infection%' OR value_text LIKE '%infection%urinary%' )
		and obs.voided = 0
				) 
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


<!--    IV. UTI 	D	
          Amoxicillin  (as trihydrate) 500mg capsule -->

	 <dataValueTemplate dataElement="MEDSGIVENFORUTI" disaggregation="iMOgQ57gFVm">
           <annotation>
      	      	   <!--AMOXICILLIN , 500 mg , Capsule ,-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'AMOXICILLIN , 500 mg , Capsule ,'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%' and (value_text LIKE '%urinary%infection%' OR value_text LIKE '%infection%urinary%' )
		and obs.voided = 0
				) 
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>



<!--    IV. UTI 	M	
           Amoxicillin (as trihydrate) 100mg/mL 10mL granules for drops (suspension) -->

	 <dataValueTemplate dataElement="MEDSGIVENFORUTI" disaggregation="c4Q3Aht6f5t">
           <annotation>
      	      	   <!--AMOXICILLIN , 100 mg/mL , Granules/Powder for Drops , 10 mL-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'AMOXICILLIN , 100 mg/mL , Granules/Powder for Drops , 10 mL'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%' and (value_text LIKE '%urinary%infection%' OR value_text LIKE '%infection%urinary%' )
		and obs.voided = 0
				) 
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


<!--    IV. UTI 	D	
           Amoxicillin (as trihydrate) 100mg/mL 10mL granules for drops (suspension) -->

	 <dataValueTemplate dataElement="MEDSGIVENFORUTI" disaggregation="LdFZ4kROrtG">
           <annotation>
      	      	   <!--AMOXICILLIN , 100 mg/mL , Granules/Powder for Drops , 10 mL-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'AMOXICILLIN , 100 mg/mL , Granules/Powder for Drops , 10 mL'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%' and (value_text LIKE '%urinary%infection%' OR value_text LIKE '%infection%urinary%' )
		and obs.voided = 0
				) 
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>



<!--    IV. UTI 	M	
            Ciprofloxacin (as hydrochloride) 500mg tablet -->

	 <dataValueTemplate dataElement="MEDSGIVENFORUTI" disaggregation="FlhnbhcdMXW">
           <annotation>
      	      	   <!--CIPROFLOXACIN , 500 mg , Tablet ,-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'CIPROFLOXACIN , 500 mg , Tablet ,'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%' and (value_text LIKE '%urinary%infection%' OR value_text LIKE '%infection%urinary%' )
		and obs.voided = 0
				) 
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


<!--    IV. UTI 	D	
            Ciprofloxacin (as hydrochloride) 500mg tablet -->

	 <dataValueTemplate dataElement="MEDSGIVENFORUTI" disaggregation="JI1ZgYjbBxm">
           <annotation>
      	      	   <!--CIPROFLOXACIN , 500 mg , Tablet ,-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'CIPROFLOXACIN , 500 mg , Tablet ,'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%' and (value_text LIKE '%urinary%infection%' OR value_text LIKE '%infection%urinary%' )
		and obs.voided = 0
				) 
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


<!--    IV. UTI 	M	
             Cotrimoxazole (sulfamethoxazole + trimethoprim) 800mg + 160mg tablet -->

	 <dataValueTemplate dataElement="MEDSGIVENFORUTI" disaggregation="bxf9R0QWXaF">
           <annotation>
      	      	   <!--COTRIMOXAZOLE , 800 mg + 160 mg , Tablet ,-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'COTRIMOXAZOLE , 800 mg + 160 mg , Tablet ,'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%' and (value_text LIKE '%urinary%infection%' OR value_text LIKE '%infection%urinary%' )
		and obs.voided = 0
				) 
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


<!--    IV. UTI 	D	
             Cotrimoxazole (sulfamethoxazole + trimethoprim) 800mg + 160mg tablet -->

	 <dataValueTemplate dataElement="MEDSGIVENFORUTI" disaggregation="giDk8ju0wKK">
           <annotation>
      	      	   <!--COTRIMOXAZOLE , 800 mg + 160 mg , Tablet ,-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'COTRIMOXAZOLE , 800 mg + 160 mg , Tablet ,'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%' and (value_text LIKE '%urinary%infection%' OR value_text LIKE '%infection%urinary%' )
		and obs.voided = 0
				) 
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>



<!--    IV. UTI 	M	
             Cotrimoxazole (sulfamethoxazole + trimethoprim) 200mg + 40mg/5mL 60mL suspension -->

	 <dataValueTemplate dataElement="MEDSGIVENFORUTI" disaggregation="t7hPE5RGRT2">
           <annotation>
      	      	   <!--COTRIMOXAZOLE , 200 mg + 40 mg per 5 mL , Suspension , 60 mL-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'COTRIMOXAZOLE , 200 mg + 40 mg per 5 mL , Suspension , 60 mL'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%' and (value_text LIKE '%urinary%infection%' OR value_text LIKE '%infection%urinary%' )
		and obs.voided = 0
				) 
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>




<!--    IV. UTI 	D	
             Cotrimoxazole (sulfamethoxazole + trimethoprim) 200mg + 40mg/5mL 60mL suspension -->

	 <dataValueTemplate dataElement="MEDSGIVENFORUTI" disaggregation="DwWcOxcQYU6">
           <annotation>
      	      	   <!--COTRIMOXAZOLE , 200 mg + 40 mg per 5 mL , Suspension , 60 mL-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'COTRIMOXAZOLE , 200 mg + 40 mg per 5 mL , Suspension , 60 mL'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%' and (value_text LIKE '%urinary%infection%' OR value_text LIKE '%infection%urinary%' )
		and obs.voided = 0
				) 
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>



















<!--    IV. UTI 	M	
             Cloxacillin  (as sodium) 500mg capsule-->

	 <dataValueTemplate dataElement="MEDSGIVENFORUTI" disaggregation="mhHaiMeaBce">
           <annotation>
      	      	   <!--CLOXACILLIN , 500 mg , Capsule ,-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'CLOXACILLIN , 500 mg , Capsule ,'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%' and (value_text LIKE '%urinary%infection%' OR value_text LIKE '%infection%urinary%' )
		and obs.voided = 0
				) 
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


<!--    IV. UTI 	D	
             Cloxacillin  (as sodium) 500mg capsule-->

	 <dataValueTemplate dataElement="MEDSGIVENFORUTI" disaggregation="stKO4yi6T1C">
           <annotation>
      	      	   <!--CLOXACILLIN , 500 mg , Capsule ,-->
			SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'CLOXACILLIN , 500 mg , Capsule ,'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%' and (value_text LIKE '%urinary%infection%' OR value_text LIKE '%infection%urinary%' )
		and obs.voided = 0
				) 
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


<!--    IV. UTI 	M	
              Cloxacillin (as sodium) 125 mg/5 mL 60mL powder for suspension/syrup-->

	 <dataValueTemplate dataElement="MEDSGIVENFORUTI" disaggregation="ZJ8sXwlBnlZ">
           <annotation>
      	      	   <!--CLOXACILLIN , 125 mg/5 mL , Powder for Syrup/Suspension , 60 mL-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'CLOXACILLIN , 125 mg/5 mL , Powder for Syrup/Suspension , 60 mL'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%' and (value_text LIKE '%urinary%infection%' OR value_text LIKE '%infection%urinary%' )
		and obs.voided = 0
				) 
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


<!--    IV. UTI 	D	
              Cloxacillin (as sodium) 125 mg/5 mL 60mL powder for suspension/syrup-->

	 <dataValueTemplate dataElement="MEDSGIVENFORUTI" disaggregation="CpCOSWIenv2">
           <annotation>
      	      	   <!--CLOXACILLIN , 125 mg/5 mL , Powder for Syrup/Suspension , 60 mL-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'CLOXACILLIN , 125 mg/5 mL , Powder for Syrup/Suspension , 60 mL'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%' and (value_text LIKE '%urinary%infection%' OR value_text LIKE '%infection%urinary%' )
		and obs.voided = 0
				) 
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


<!--    IV. UTI 	M	
               Erythromycin (base) 500mg tablet-->

	 <dataValueTemplate dataElement="MEDSGIVENFORUTI" disaggregation="ybutWWuBrVj">
           <annotation>
      	      	   <!--ERYTHROMYCIN , 500 mg , Tablet ,-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'ERYTHROMYCIN , 500 mg , Tablet ,'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%' and (value_text LIKE '%urinary%infection%' OR value_text LIKE '%infection%urinary%' )
		and obs.voided = 0
				) 
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


<!--    IV. UTI 	D	
               Erythromycin (base) 500mg tablet-->

	 <dataValueTemplate dataElement="MEDSGIVENFORUTI" disaggregation="Tj9rv7yxxxO">
           <annotation>
      	      	   <!--ERYTHROMYCIN , 500 mg , Tablet ,-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'ERYTHROMYCIN , 500 mg , Tablet ,'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%' and (value_text LIKE '%urinary%infection%' OR value_text LIKE '%infection%urinary%' )
		and obs.voided = 0
				) 
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>



<!--    IV. UTI 	M	
                Sambong 500mg tablet-->

	 <dataValueTemplate dataElement="MEDSGIVENUNSPECIFIED" disaggregation="nLCNEgB0vOE">
           <annotation>
      	      	   <!--SAMBONG [BLUMEA BALSAMIFERA (L) DC ( FAM. COMPOSITAE)] , 500 mg , Tablet ,-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'SAMBONG [BLUMEA BALSAMIFERA (L) DC ( FAM. COMPOSITAE)] , 500 mg , Tablet ,'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%' and (value_text LIKE '%urinary%infection%' OR value_text LIKE '%infection%urinary%' )
		and obs.voided = 0
				) 
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


<!--    IV. UTI 	D	
                Sambong 500mg tablet-->

	 <dataValueTemplate dataElement="MEDSGIVENUNSPECIFIED" disaggregation="AAl5PYGSQjC">
           <annotation>
      	      	   <!--SAMBONG [BLUMEA BALSAMIFERA (L) DC ( FAM. COMPOSITAE)] , 500 mg , Tablet ,-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'SAMBONG [BLUMEA BALSAMIFERA (L) DC ( FAM. COMPOSITAE)] , 500 mg , Tablet ,'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%' and (value_text LIKE '%urinary%infection%' OR value_text LIKE '%infection%urinary%' )
		and obs.voided = 0
				) 
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>





<!--    IV. UTI 	M	
                Sambong 250mg tablet-->

	 <dataValueTemplate dataElement="MEDSGIVENUNSPECIFIED" disaggregation="NcujQo5zTq1">
           <annotation>
      	      	   <!--SAMBONG [BLUMEA BALSAMIFERA (L) DC ( FAM. COMPOSITAE)] , 250 mg , Tablet ,-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'SAMBONG [BLUMEA BALSAMIFERA (L) DC ( FAM. COMPOSITAE)] , 250 mg , Tablet ,'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%' and (value_text LIKE '%urinary%infection%' OR value_text LIKE '%infection%urinary%' )
		and obs.voided = 0
				) 
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>

<!--    IV. UTI 	D	
                Sambong 250mg tablet-->

	 <dataValueTemplate dataElement="MEDSGIVENUNSPECIFIED" disaggregation="JYssinNq6mv">
           <annotation>
      	      	  <!--SAMBONG [BLUMEA BALSAMIFERA (L) DC ( FAM. COMPOSITAE)] , 250 mg , Tablet ,--> 
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'SAMBONG [BLUMEA BALSAMIFERA (L) DC ( FAM. COMPOSITAE)] , 250 mg , Tablet ,'
			LIMIT 1 )

		and orders.encounter_id IN (
			SELECT encounter_id FROM obs
				WHERE 
					obs.concept_id IN (SELECT concept_id FROM concept_name WHERE name LIKE '%diagnosis%' and (value_text LIKE '%urinary%infection%' OR value_text LIKE '%infection%urinary%' )
		and obs.voided = 0
				) 
			) 
		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


	<!-- V. Nebulisation services-->

<!--     V. Nebulisation services 	M	
                Fluticasone + salmeterol  (4-12 y/o) 50mcg/25 mcg x120 doses inhaler-->

	 <dataValueTemplate dataElement="NEBULIZATIONSERVICES" disaggregation="eJ7zexkqghD">
           <annotation>
      	      	   <!--dose not found:
			FLUTICASONE + SALMETEROL , 50mcg/25 mcg x120 doses-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'FLUTICASONE + SALMETEROL , 50mcg/25 mcg x120 doses'
			LIMIT 1 )

		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>

<!--     V. Nebulisation services 	D	
                Fluticasone + salmeterol  (4-12 y/o) 50mcg/25 mcg x120 doses inhaler-->

	 <dataValueTemplate dataElement="NEBULIZATIONSERVICES" disaggregation="wnYltJ0FrD2">
           <annotation>
      	      	   <!--dose not found:
			FLUTICASONE + SALMETEROL , 50mcg/25 mcg x120 doses-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'FLUTICASONE + SALMETEROL , 50mcg/25 mcg x120 doses'
			LIMIT 1 )

		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>



<!--     V. Nebulisation services 	M	
                 Fluticasone + salmeterol  (adult)  125mcg/25 mcg x120 doses inhaler-->

	 <dataValueTemplate dataElement="NEBULIZATIONSERVICES" disaggregation="YI0mBeyE0JA">
           <annotation>
      	      	   <!--dose not found:
			FLUTICASONE + SALMETEROL , 125mcg/25 mcg x120 doses-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'FLUTICASONE + SALMETEROL , 50mcg/25 mcg x120 doses'
			LIMIT 1 )

		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


<!--     V. Nebulisation services 	D	
                 Fluticasone + salmeterol  (adult)  125mcg/25 mcg x120 doses inhaler-->

	 <dataValueTemplate dataElement="NEBULIZATIONSERVICES" disaggregation="X53upyghr0h">
           <annotation>
      	      	   <!--dose not found:
			FLUTICASONE + SALMETEROL , 125mcg/25 mcg x120 doses-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'FLUTICASONE + SALMETEROL , 50mcg/25 mcg x120 doses'
			LIMIT 1 )

		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


<!--     V. Nebulisation services 	M	
                  Salbutamol (adult) 100mcg/inhalation x 200 doses) inhaler-->

	 <dataValueTemplate dataElement="NEBULIZATIONSERVICES" disaggregation="esOJ9gmpTv1">
           <annotation>
      	      	   <!--drug not found:
			SALBUTAMOL , 100mcg/inhalation x 200 doses-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'SALBUTAMOL , 100mcg/inhalation x 200 doses'
			LIMIT 1 )

		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


<!--     V. Nebulisation services 	D	
                 Salbutamol (adult) 100mcg/inhalation x 200 doses) inhaler-->

	 <dataValueTemplate dataElement="NEBULIZATIONSERVICES" disaggregation="yoc4IGzfdWk">
           <annotation>
      	      	   <!--drug not found:
			SALBUTAMOL , 100mcg/inhalation x 200 doses-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'SALBUTAMOL , 100mcg/inhalation x 200 doses'
			LIMIT 1 )

		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>



	<!-- VI. Others -->


<!--     VI. Others 	M	
                   Metformin (as hydrochloride) 500 mg tablet/film coated-->

	 <dataValueTemplate dataElement="MEDSGIVENUNSPECIFIED" disaggregation="KSLNuVTCD7w">
           <annotation>
      	      	   <!--drug not found: METFORMIN , 500 mg , Tablet ,-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'METFORMIN , 500 mg , Tablet ,'
			LIMIT 1 )

		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


<!--     VI. Others 	D	
                  Metformin (as hydrochloride) 500 mg tablet/film coated-->

	 <dataValueTemplate dataElement="MEDSGIVENUNSPECIFIED" disaggregation="LYJ0WO360MC">
           <annotation>
      	      	   <!--drug not found: METFORMIN , 500 mg , Tablet ,-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'METFORMIN , 500 mg , Tablet ,'
			LIMIT 1 )

		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>



<!--     VI. Others 	M	
                    Glibenclamide 5 mg tablet-->

	 <dataValueTemplate dataElement="MEDSGIVENUNSPECIFIED" disaggregation="VU9AdAm3z5y">
           <annotation>
      	      	   <!--drug not found: GLIBENCLAMIDE , 5 mg , Tablet ,-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'GLIBENCLAMIDE , 5 mg , Tablet ,'
			LIMIT 1 )

		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


<!--     VI. Others 	D	
                   Glibenclamide 5 mg tablet-->

	 <dataValueTemplate dataElement="MEDSGIVENUNSPECIFIED" disaggregation="iCdwi6sm24e">
           <annotation>
      	      	   <!--drug not found: GLIBENCLAMIDE , 5 mg , Tablet ,-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'GLIBENCLAMIDE , 5 mg , Tablet ,'
			LIMIT 1 )

		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>



<!--     VI. Others 	M	
                     Gliclazide 80 mg tablet-->

	 <dataValueTemplate dataElement="MEDSGIVENUNSPECIFIED" disaggregation="NE9ctJPQODh">
           <annotation>
      	      	   <!--drug not found: GLICLAZIDE , 80 mg , Tablet ,-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'GLICLAZIDE , 80 mg , Tablet ,'
			LIMIT 1 )

		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


<!--     VI. Others 	D	
                   Gliclazide 80 mg tablet-->

	 <dataValueTemplate dataElement="MEDSGIVENUNSPECIFIED" disaggregation="Nhsaabl4Ech">
           <annotation>
      	      	   <!--drug not found: GLICLAZIDE , 80 mg , Tablet ,-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'GLICLAZIDE , 80 mg , Tablet ,'
			LIMIT 1 )

		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


<!--     VI. Others 	M	
                     Amlodipine (as besilate/camsylate) 10mg tablet-->

	 <dataValueTemplate dataElement="MEDSGIVENUNSPECIFIED" disaggregation="VugjwM2NtwV">
           <annotation>
      	      	   <!--AMLODIPINE , 10 mg , Tablet ,-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'AMLODIPINE , 10 mg , Tablet ,'
			LIMIT 1 )

		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


<!--     VI. Others 	D	
                    Amlodipine (as besilate/camsylate) 10mg tablet-->

	 <dataValueTemplate dataElement="MEDSGIVENUNSPECIFIED" disaggregation="IVqiBaOsipo">
           <annotation>
      	      	   <!--AMLODIPINE , 10 mg , Tablet ,-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'AMLODIPINE , 10 mg , Tablet ,'
			LIMIT 1 )

		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


<!--     VI. Others 	M	
                      Enalapril (as maleate) 10mg tablet-->

	 <dataValueTemplate dataElement="MEDSGIVENUNSPECIFIED" disaggregation="cfpm6ldzYBe">
           <annotation>
      	      	   <!--ENALAPRIL , 10 mg , Tablet ,-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'ENALAPRIL , 10 mg , Tablet ,'
			LIMIT 1 )

		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


<!--     VI. Others 	D	
                     Enalapril (as maleate) 10mg tablet-->

	 <dataValueTemplate dataElement="MEDSGIVENUNSPECIFIED" disaggregation="KRqoyr52Uy4">
           <annotation>
      	      	   <!--ENALAPRIL , 10 mg , Tablet ,-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'ENALAPRIL , 10 mg , Tablet ,'
			LIMIT 1 )

		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>



<!--     VI. Others 	M	
                       Metoprolol (as tartrate) 50mg tablet-->

	 <dataValueTemplate dataElement="MEDSGIVENUNSPECIFIED" disaggregation="cqISplXbI1u">
           <annotation>
      	      	   <!--drug not found: METOPROLOL , 50 mg , Tablet ,-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'METOPROLOL , 50 mg , Tablet ,'
			LIMIT 1 )

		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


<!--     VI. Others 	D	
                      Metoprolol (as tartrate) 50mg tablet-->

	 <dataValueTemplate dataElement="MEDSGIVENUNSPECIFIED" disaggregation="Zn4oqXf3g1Y">
           <annotation>
      	      	   <!--drug not found: METOPROLOL , 50 mg , Tablet ,-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'METOPROLOL , 50 mg , Tablet ,'
			LIMIT 1 )

		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>




<!--     VI. Others 	M	
                        Hydrochlorothiazide 25mg tablet-->

	 <dataValueTemplate dataElement="MEDSGIVENUNSPECIFIED" disaggregation="dIfdZnn5EV4">
           <annotation>
      	      	   <!--HYDROCHLOROTHIAZIDE , 25 mg , Tablet ,-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'HYDROCHLOROTHIAZIDE , 25 mg , Tablet ,'
			LIMIT 1 )

		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


<!--     VI. Others 	D	
                       Hydrochlorothiazide 25mg tablet-->

	 <dataValueTemplate dataElement="MEDSGIVENUNSPECIFIED" disaggregation="UkurKizc0Uy">
           <annotation>
      	      	   <!--HYDROCHLOROTHIAZIDE , 25 mg , Tablet ,-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'HYDROCHLOROTHIAZIDE , 25 mg , Tablet ,'
			LIMIT 1 )

		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


<!--     VI. Others 	M	
                         Aspirin 80mg tablet-->

	 <dataValueTemplate dataElement="MEDSGIVENUNSPECIFIED" disaggregation="CynmEQ9vXxj">
           <annotation>
      	      	   <!--ASPIRIN , 80 mg , Tablet ,-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'ASPIRIN , 80 mg , Tablet ,'
			LIMIT 1 )

		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


<!--     VI. Others 	D	
                        Aspirin 80mg tablet-->

	 <dataValueTemplate dataElement="MEDSGIVENUNSPECIFIED" disaggregation="HhCNIEShlzA">
           <annotation>
      	      	   <!--ASPIRIN , 80 mg , Tablet ,-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'ASPIRIN , 80 mg , Tablet ,'
			LIMIT 1 )

		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


<!--     VI. Others 	M	
                        Losartan  (as potassium) 50mg tablet-->

	 <dataValueTemplate dataElement="MEDSGIVENUNSPECIFIED" disaggregation="Zm6iGNp5xVT">
           <annotation>
      	      	   <!--LOSARTAN , 50 mg , Tablet ,-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'LOSARTAN , 50 mg , Tablet ,'
			LIMIT 1 )

		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


<!--     VI. Others 	D	
                         Losartan  (as potassium) 50mg tablet-->

	 <dataValueTemplate dataElement="MEDSGIVENUNSPECIFIED" disaggregation="SDB2BHOQNFa">
           <annotation>
      	      	   <!--LOSARTAN , 50 mg , Tablet ,-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'LOSARTAN , 50 mg , Tablet ,'
			LIMIT 1 )

		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


<!--     VI. Others 	M	
                         Simvastatin 20mg tablet-->

	 <dataValueTemplate dataElement="MEDSGIVENUNSPECIFIED" disaggregation="EZOitu6rSKk">
           <annotation>
      	      	   <!--drug not found: SIMVASTATIN , 20 mg , Tablet ,-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'SIMVASTATIN , 20 mg , Tablet ,'
			LIMIT 1 )

		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


<!--     VI. Others 	D	
                          Simvastatin 20mg tablet-->

	 <dataValueTemplate dataElement="MEDSGIVENUNSPECIFIED" disaggregation="pggntK5A1NO">
           <annotation>
      	      	   <!--drug not found: SIMVASTATIN , 20 mg , Tablet ,-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'SIMVASTATIN , 20 mg , Tablet ,'
			LIMIT 1 )

		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>



<!--     VI. Others 	M	
                          Mebendazole 50mg/ml 10ml susp-->

	 <dataValueTemplate dataElement="MEDSGIVENUNSPECIFIED" disaggregation="npFHFGXFlNE">
           <annotation>
      	      	   <!--MEBENDAZOLE , 50 mg/mL , Suspension , 10 mL-->
		SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'MEBENDAZOLE , 50 mg/mL , Suspension , 10 mL'
			LIMIT 1 )

		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='PHIC Member (Card holder)' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>


<!--     VI. Others 	D	
                           Mebendazole 50mg/ml 10ml susp-->

	 <dataValueTemplate dataElement="MEDSGIVENUNSPECIFIED" disaggregation="J66i3fwIZEY">
           <annotation>
      	      	   <!--MEBENDAZOLE , 50 mg/mL , Suspension , 10 mL-->
			SELECT count(distinct patient_id)
		FROM orders INNER JOIN obs
		ON orders.encounter_id = obs.encounter_id
		WHERE orders.concept_id = (
			SELECT concept_id
			FROM concept_name
			WHERE name = 'MEBENDAZOLE , 50 mg/mL , Suspension , 10 mL'
			LIMIT 1 )

		and orders.voided = 0
 		and (orders.date_created >= :startOfPeriod
      		and orders.date_created &lt;= :endOfPeriod)

               and orders.patient_id IN (SELECT pa.person_id 
			FROM person_attribute pa
			WHERE pa.person_attribute_type_id IN (SELECT person_attribute_type_id FROM person_attribute_type WHERE name = 'CHITS_PHILHEALTH_EXPIRATION'
			)
		and DATEDIFF(:endOfPeriod, STR_TO_DATE( `value` , '%m/%d/%Y' )) &lt; 0
			and voided = 0
			)			

			and orders.patient_id IN (
			SELECT pa.person_id FROM person_attribute pa WHERE
	pa.value = (SELECT concept_id from concept_name WHERE name='Dependent of a PHIC member' LIMIT 1)
			and voided = 0)

		and obs.location_id = :locationId
    	   </annotation>
  	 </dataValueTemplate>





		
	
	<!--  VIII. Top 10 Common Illnesses (Morbidity) -->

	<!-- VIII-Morbidity Cause, top 1 -->

	 <dataValueTemplate dataElement="CAUSEOFMORBIDITY" disaggregation="A9WHp1CXQOY">
           <annotation>
      	        SELECT 
		ifnull
		(
		(
		SELECT concept_map.comment
			FROM obs o, concept_name, concept_map
			WHERE o.value_coded = concept_name.concept_id
			AND concept_name.concept_id = concept_map.concept_id
			AND o.concept_id
				IN (
				   SELECT concept_id
				   FROM concept_name
				   WHERE name = 'diagnosis'
				)
			AND (o.date_created >= :startOfPeriod
		      	and o.date_created &lt;= :endOfPeriod)
		      	AND o.location_id = :locationId

			GROUP BY o.value_coded
			ORDER BY count( o.value_coded ) DESC
			LIMIT 0,1
		),' '
		)
		FROM obs limit 1
    	           </annotation>
  	       </dataValueTemplate>    


	<!-- VIII-Morbidity Cause, top 2 -->

	 <dataValueTemplate dataElement="CAUSEOFMORBIDITY" disaggregation="Ry4qQ4T8js0">
           <annotation>
      	        SELECT 
		ifnull
		(
		(
		SELECT concept_map.comment
			FROM obs o, concept_name, concept_map
			WHERE o.value_coded = concept_name.concept_id
			AND concept_name.concept_id = concept_map.concept_id
			AND o.concept_id
				IN (
				   SELECT concept_id
				   FROM concept_name
				   WHERE name = 'diagnosis'
				)
			AND (o.date_created >= :startOfPeriod
		      	and o.date_created &lt;= :endOfPeriod)
		      	AND o.location_id = :locationId

			GROUP BY o.value_coded
			ORDER BY count( o.value_coded ) DESC
			LIMIT 1,1
		),' '
		)
		FROM obs limit 1
    	           </annotation>
  	       </dataValueTemplate>    


	<!-- VIII-Morbidity Cause, top 3 -->

	 <dataValueTemplate dataElement="CAUSEOFMORBIDITY" disaggregation="PYCeUPRaJuu">
           <annotation>
      	        SELECT 
		ifnull
		(
		(
		SELECT concept_map.comment
			FROM obs o, concept_name, concept_map
			WHERE o.value_coded = concept_name.concept_id
			AND concept_name.concept_id = concept_map.concept_id
			AND o.concept_id
				IN (
				   SELECT concept_id
				   FROM concept_name
				   WHERE name = 'diagnosis'
				)
			AND (o.date_created >= :startOfPeriod
		      	and o.date_created &lt;= :endOfPeriod)
		      	AND o.location_id = :locationId

			GROUP BY o.value_coded
			ORDER BY count( o.value_coded ) DESC
			LIMIT 2,1
		),' '
		)
		FROM obs limit 1
    	           </annotation>
  	       </dataValueTemplate>    

	<!-- VIII-Morbidity Cause, top 4 -->

	 <dataValueTemplate dataElement="CAUSEOFMORBIDITY" disaggregation="k6aJTB6lda1">
           <annotation>
      	        SELECT 
		ifnull
		(
		(
		SELECT concept_map.comment
			FROM obs o, concept_name, concept_map
			WHERE o.value_coded = concept_name.concept_id
			AND concept_name.concept_id = concept_map.concept_id
			AND o.concept_id
				IN (
				   SELECT concept_id
				   FROM concept_name
				   WHERE name = 'diagnosis'
				)
			AND (o.date_created >= :startOfPeriod
		      	and o.date_created &lt;= :endOfPeriod)
		      	AND o.location_id = :locationId

			GROUP BY o.value_coded
			ORDER BY count( o.value_coded ) DESC
			LIMIT 3,1
		),' '
		)
		FROM obs limit 1
    	           </annotation>
  	       </dataValueTemplate>    


	<!-- VIII-Morbidity Cause, top 5 -->

	 <dataValueTemplate dataElement="CAUSEOFMORBIDITY" disaggregation="IYqcrgmAUul">
           <annotation>
      	        SELECT 
		ifnull
		(
		(
		SELECT concept_map.comment
			FROM obs o, concept_name, concept_map
			WHERE o.value_coded = concept_name.concept_id
			AND concept_name.concept_id = concept_map.concept_id
			AND o.concept_id
				IN (
				   SELECT concept_id
				   FROM concept_name
				   WHERE name = 'diagnosis'
				)
			AND (o.date_created >= :startOfPeriod
		      	and o.date_created &lt;= :endOfPeriod)
		      	AND o.location_id = :locationId

			GROUP BY o.value_coded
			ORDER BY count( o.value_coded ) DESC
			LIMIT 4,1
		),' '
		)
		FROM obs limit 1
    	           </annotation>
  	       </dataValueTemplate>    


	<!-- VIII-Morbidity Cause, top 6 -->

	 <dataValueTemplate dataElement="CAUSEOFMORBIDITY" disaggregation="RGiQVsIgzrS">
           <annotation>
      	        SELECT 
		ifnull
		(
		(
		SELECT concept_map.comment
			FROM obs o, concept_name, concept_map
			WHERE o.value_coded = concept_name.concept_id
			AND concept_name.concept_id = concept_map.concept_id
			AND o.concept_id
				IN (
				   SELECT concept_id
				   FROM concept_name
				   WHERE name = 'diagnosis'
				)
			AND (o.date_created >= :startOfPeriod
		      	and o.date_created &lt;= :endOfPeriod)
		      	AND o.location_id = :locationId

			GROUP BY o.value_coded
			ORDER BY count( o.value_coded ) DESC
			LIMIT 5,1
		),' '
		)
		FROM obs limit 1
    	           </annotation>
  	       </dataValueTemplate> 


	<!-- VIII-Morbidity Cause, top 7 -->

	 <dataValueTemplate dataElement="CAUSEOFMORBIDITY" disaggregation="b1dIlk8UlUx">
           <annotation>
      	        SELECT 
		ifnull
		(
		(
		SELECT concept_map.comment
			FROM obs o, concept_name, concept_map
			WHERE o.value_coded = concept_name.concept_id
			AND concept_name.concept_id = concept_map.concept_id
			AND o.concept_id
				IN (
				   SELECT concept_id
				   FROM concept_name
				   WHERE name = 'diagnosis'
				)
			AND (o.date_created >= :startOfPeriod
		      	and o.date_created &lt;= :endOfPeriod)
		      	AND o.location_id = :locationId

			GROUP BY o.value_coded
			ORDER BY count( o.value_coded ) DESC
			LIMIT 6,1
		),' '
		)
		FROM obs limit 1
    	           </annotation>
  	       </dataValueTemplate>


	<!-- VIII-Morbidity Cause, top 8 -->

	 <dataValueTemplate dataElement="CAUSEOFMORBIDITY" disaggregation="PJkCEmXMcdo">
           <annotation>
      	        SELECT 
		ifnull
		(
		(
		SELECT concept_map.comment
			FROM obs o, concept_name, concept_map
			WHERE o.value_coded = concept_name.concept_id
			AND concept_name.concept_id = concept_map.concept_id
			AND o.concept_id
				IN (
				   SELECT concept_id
				   FROM concept_name
				   WHERE name = 'diagnosis'
				)
			AND (o.date_created >= :startOfPeriod
		      	and o.date_created &lt;= :endOfPeriod)
		      	AND o.location_id = :locationId

			GROUP BY o.value_coded
			ORDER BY count( o.value_coded ) DESC
			LIMIT 7,1
		),' '
		)
		FROM obs limit 1
    	           </annotation>
  	       </dataValueTemplate>



	<!-- VIII-Morbidity Cause, top 9 -->

	 <dataValueTemplate dataElement="CAUSEOFMORBIDITY" disaggregation="v8EQFoJn9lN">
           <annotation>
      	        SELECT 
		ifnull
		(
		(
		SELECT concept_map.comment
			FROM obs o, concept_name, concept_map
			WHERE o.value_coded = concept_name.concept_id
			AND concept_name.concept_id = concept_map.concept_id
			AND o.concept_id
				IN (
				   SELECT concept_id
				   FROM concept_name
				   WHERE name = 'diagnosis'
				)
			AND (o.date_created >= :startOfPeriod
		      	and o.date_created &lt;= :endOfPeriod)
		      	AND o.location_id = :locationId

			GROUP BY o.value_coded
			ORDER BY count( o.value_coded ) DESC
			LIMIT 8,1
		),' '
		)
		FROM obs limit 1
    	           </annotation>
  	       </dataValueTemplate>


	<!-- VIII-Morbidity Cause, top 10 -->

	 <dataValueTemplate dataElement="CAUSEOFMORBIDITY" disaggregation="jjudPUevAqu">
           <annotation>
      	        SELECT 
		ifnull
		(
		(
		SELECT concept_map.comment
			FROM obs o, concept_name, concept_map
			WHERE o.value_coded = concept_name.concept_id
			AND concept_name.concept_id = concept_map.concept_id
			AND o.concept_id
				IN (
				   SELECT concept_id
				   FROM concept_name
				   WHERE name = 'diagnosis'
				)
			AND (o.date_created >= :startOfPeriod
		      	and o.date_created &lt;= :endOfPeriod)
		      	AND o.location_id = :locationId

			GROUP BY o.value_coded
			ORDER BY count( o.value_coded ) DESC
			LIMIT 9,1
		),' '
		)
		FROM obs limit 1
    	           </annotation>
  	       </dataValueTemplate>


	
	<!--  VIII. Count in the Top 10 Common Illnesses (Morbidity) -->

	<!-- VIII-Morbidity Count, top 1 -->

	 <dataValueTemplate dataElement="MORBIDITYCOUNT" disaggregation="A9WHp1CXQOY">
           <annotation>
      	        SELECT 
		ifnull
		(
		(SELECT count(distinct o.person_id)
				FROM obs o, concept_name, concept_map
				WHERE o.value_coded = concept_name.concept_id
				AND concept_name.concept_id = concept_map.concept_id
				AND o.concept_id
				    IN (
					SELECT concept_id
					FROM concept_name
					WHERE name = 'diagnosis'
					)
				AND (o.date_created >= :startOfPeriod
			      	and o.date_created &lt;= :endOfPeriod)
			      	AND o.location_id = :locationId

				GROUP BY o.value_coded
				ORDER BY count( o.value_coded ) DESC
				LIMIT 0,1
		),0
		)
		FROM obs limit 1
    	           </annotation>
  	       </dataValueTemplate>    


	<!-- VIII-Morbidity Count, top 2 -->

	 <dataValueTemplate dataElement="MORBIDITYCOUNT" disaggregation="Ry4qQ4T8js0">
           <annotation>
      	         SELECT 
		ifnull
		(
		(SELECT count(distinct o.person_id)
				FROM obs o, concept_name, concept_map
				WHERE o.value_coded = concept_name.concept_id
				AND concept_name.concept_id = concept_map.concept_id
				AND o.concept_id
				    IN (
					SELECT concept_id
					FROM concept_name
					WHERE name = 'diagnosis'
					)
				AND (o.date_created >= :startOfPeriod
			      	and o.date_created &lt;= :endOfPeriod)
			      	AND o.location_id = :locationId

				GROUP BY o.value_coded
				ORDER BY count( o.value_coded ) DESC
				LIMIT 1,1
		),0
		)
		FROM obs limit 1
    	           </annotation>
  	       </dataValueTemplate>    


	<!-- VIII-Morbidity Count, top 3 -->

	 <dataValueTemplate dataElement="MORBIDITYCOUNT" disaggregation="PYCeUPRaJuu">
           <annotation>
      	         SELECT 
		ifnull
		(
		(SELECT count(distinct o.person_id)
				FROM obs o, concept_name, concept_map
				WHERE o.value_coded = concept_name.concept_id
				AND concept_name.concept_id = concept_map.concept_id
				AND o.concept_id
				    IN (
					SELECT concept_id
					FROM concept_name
					WHERE name = 'diagnosis'
					)
				AND (o.date_created >= :startOfPeriod
			      	and o.date_created &lt;= :endOfPeriod)
			      	AND o.location_id = :locationId

				GROUP BY o.value_coded
				ORDER BY count( o.value_coded ) DESC
				LIMIT 2,1
		),0
		)
		FROM obs limit 1
    	           </annotation>
  	       </dataValueTemplate>    

	<!-- VIII-Morbidity Count, top 4 -->

	 <dataValueTemplate dataElement="MORBIDITYCOUNT" disaggregation="k6aJTB6lda1">
           <annotation>
      	         SELECT 
		ifnull
		(
		(SELECT count(distinct o.person_id)
				FROM obs o, concept_name, concept_map
				WHERE o.value_coded = concept_name.concept_id
				AND concept_name.concept_id = concept_map.concept_id
				AND o.concept_id
				    IN (
					SELECT concept_id
					FROM concept_name
					WHERE name = 'diagnosis'
					)
				AND (o.date_created >= :startOfPeriod
			      	and o.date_created &lt;= :endOfPeriod)
			      	AND o.location_id = :locationId

				GROUP BY o.value_coded
				ORDER BY count( o.value_coded ) DESC
				LIMIT 3,1
		),0
		)
		FROM obs limit 1
    	           </annotation>
  	       </dataValueTemplate>    


	<!-- VIII-Morbidity Count, top 5 -->

	 <dataValueTemplate dataElement="MORBIDITYCOUNT" disaggregation="IYqcrgmAUul">
           <annotation>
      	         SELECT 
		ifnull
		(
		(SELECT count(distinct o.person_id)
				FROM obs o, concept_name, concept_map
				WHERE o.value_coded = concept_name.concept_id
				AND concept_name.concept_id = concept_map.concept_id
				AND o.concept_id
				    IN (
					SELECT concept_id
					FROM concept_name
					WHERE name = 'diagnosis'
					)
				AND (o.date_created >= :startOfPeriod
			      	and o.date_created &lt;= :endOfPeriod)
			      	AND o.location_id = :locationId

				GROUP BY o.value_coded
				ORDER BY count( o.value_coded ) DESC
				LIMIT 4,1
		),0
		)
		FROM obs limit 1
    	           </annotation>
  	       </dataValueTemplate>    


	<!-- VIII-Morbidity Count, top 6 -->

	 <dataValueTemplate dataElement="MORBIDITYCOUNT" disaggregation="RGiQVsIgzrS">
           <annotation>
      	         SELECT 
		ifnull
		(
		(SELECT count(distinct o.person_id)
				FROM obs o, concept_name, concept_map
				WHERE o.value_coded = concept_name.concept_id
				AND concept_name.concept_id = concept_map.concept_id
				AND o.concept_id
				    IN (
					SELECT concept_id
					FROM concept_name
					WHERE name = 'diagnosis'
					)
				AND (o.date_created >= :startOfPeriod
			      	and o.date_created &lt;= :endOfPeriod)
			      	AND o.location_id = :locationId

				GROUP BY o.value_coded
				ORDER BY count( o.value_coded ) DESC
				LIMIT 5,1
		),0
		)
		FROM obs limit 1
    	           </annotation>
  	       </dataValueTemplate> 


	<!-- VIII-Morbidity Count, top 7 -->

	 <dataValueTemplate dataElement="MORBIDITYCOUNT" disaggregation="b1dIlk8UlUx">
           <annotation>
      	         SELECT 
		ifnull
		(
		(SELECT count(distinct o.person_id)
				FROM obs o, concept_name, concept_map
				WHERE o.value_coded = concept_name.concept_id
				AND concept_name.concept_id = concept_map.concept_id
				AND o.concept_id
				    IN (
					SELECT concept_id
					FROM concept_name
					WHERE name = 'diagnosis'
					)
				AND (o.date_created >= :startOfPeriod
			      	and o.date_created &lt;= :endOfPeriod)
			      	AND o.location_id = :locationId

				GROUP BY o.value_coded
				ORDER BY count( o.value_coded ) DESC
				LIMIT 6,1
		),0
		)
		FROM obs limit 1
    	           </annotation>
  	       </dataValueTemplate>


	<!-- VIII-Morbidity Count, top 8 -->

	 <dataValueTemplate dataElement="MORBIDITYCOUNT" disaggregation="PJkCEmXMcdo">
           <annotation>
      	         SELECT 
		ifnull
		(
		(SELECT count(distinct o.person_id)
				FROM obs o, concept_name, concept_map
				WHERE o.value_coded = concept_name.concept_id
				AND concept_name.concept_id = concept_map.concept_id
				AND o.concept_id
				    IN (
					SELECT concept_id
					FROM concept_name
					WHERE name = 'diagnosis'
					)
				AND (o.date_created >= :startOfPeriod
			      	and o.date_created &lt;= :endOfPeriod)
			      	AND o.location_id = :locationId

				GROUP BY o.value_coded
				ORDER BY count( o.value_coded ) DESC
				LIMIT 7,1
		),0
		)
		FROM obs limit 1
    	           </annotation>
  	       </dataValueTemplate>



	<!-- VIII-Morbidity Count, top 9 -->

	 <dataValueTemplate dataElement="MORBIDITYCOUNT" disaggregation="v8EQFoJn9lN">
           <annotation>
      	         SELECT 
		ifnull
		(
		(SELECT count(distinct o.person_id)
				FROM obs o, concept_name, concept_map
				WHERE o.value_coded = concept_name.concept_id
				AND concept_name.concept_id = concept_map.concept_id
				AND o.concept_id
				    IN (
					SELECT concept_id
					FROM concept_name
					WHERE name = 'diagnosis'
					)
				AND (o.date_created >= :startOfPeriod
			      	and o.date_created &lt;= :endOfPeriod)
			      	AND o.location_id = :locationId

				GROUP BY o.value_coded
				ORDER BY count( o.value_coded ) DESC
				LIMIT 8,1
		),0
		)
		FROM obs limit 1
    	           </annotation>
  	       </dataValueTemplate>


	<!-- VIII-Morbidity Count, top 10 -->

	 <dataValueTemplate dataElement="MORBIDITYCOUNT" disaggregation="jjudPUevAqu">
           <annotation>
      	         SELECT 
		ifnull
		(
		(SELECT count(distinct o.person_id)
				FROM obs o, concept_name, concept_map
				WHERE o.value_coded = concept_name.concept_id
				AND concept_name.concept_id = concept_map.concept_id
				AND o.concept_id
				    IN (
					SELECT concept_id
					FROM concept_name
					WHERE name = 'diagnosis'
					)
				AND (o.date_created >= :startOfPeriod
			      	and o.date_created &lt;= :endOfPeriod)
			      	AND o.location_id = :locationId

				GROUP BY o.value_coded
				ORDER BY count( o.value_coded ) DESC
				LIMIT 9,1
		),0
		)
		FROM obs limit 1
    	           </annotation>
  	       </dataValueTemplate>



</dataValueTemplates>

    </reportTemplate>
     
</reportTemplates>

